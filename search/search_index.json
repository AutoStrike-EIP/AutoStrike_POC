{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"AutoStrike","text":""},{"location":"#breach-and-attack-simulation-bas-platform","title":"Breach and Attack Simulation (BAS) Platform","text":"<p>EIP Project - EPITECH Promotion 2028</p>"},{"location":"#what-is-autostrike","title":"What is AutoStrike?","text":"<p>AutoStrike is an open-source platform for continuous security defense validation through attack simulations based on the MITRE ATT&amp;CK framework.</p>"},{"location":"#key-features","title":"Key Features","text":"Feature Description 48 MITRE ATT&amp;CK Techniques 13 tactics covering Reconnaissance to Impact Interactive MITRE Matrix Visual detection coverage with 14 tactic columns Attack Scenarios Automated technique execution with phases Multi-platform Agents Windows, Linux, and macOS support (Rust) Real-time Dashboard Live execution monitoring via WebSocket Security Scoring Quantified defense effectiveness (0-100) Authentication &amp; RBAC JWT tokens, 5 roles, 28 granular permissions Scheduling Automated executions (cron, daily, weekly, monthly) Notifications Email SMTP + webhook alerts Analytics Score trends, period comparisons, charts Safe Mode All techniques are non-destructive Security Hardening Rate limiting, security headers, CSP, HSTS"},{"location":"#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Control Server (Go) - Port 8443                \u2502\n\u2502                                                             \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502   \u2502Dashboard \u2502  \u2502 REST API \u2502  \u2502WebSocket \u2502  \u2502Orchestrat.\u2502  \u2502\n\u2502   \u2502 (React)  \u2502  \u2502/api/v1/* \u2502  \u2502  /ws/*   \u2502  \u2502           \u2502  \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u25bc               \u25bc               \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502  Agent   \u2502   \u2502  Agent   \u2502   \u2502  Agent   \u2502\n        \u2502 (Rust)   \u2502   \u2502 (Rust)   \u2502   \u2502 (Rust)   \u2502\n        \u2502 Windows  \u2502   \u2502  Linux   \u2502   \u2502  macOS   \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>A single server on port 8443 serves the Dashboard, REST API, and WebSocket connections.</p>"},{"location":"#tech-stack","title":"Tech Stack","text":"Component Technology Frontend React 18, TypeScript, TailwindCSS, TanStack Query, Chart.js Backend Go 1.24+, Gin Framework, SQLite Agent Rust 1.75+, Tokio, tokio-tungstenite Communication REST API, WebSocket (real-time), TLS CI/CD GitHub Actions, SonarCloud, Docker"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Clone and install\ngit clone https://github.com/AutoStrike-EIP/AutoStrike_POC.git\ncd AutoStrike_POC\nmake install\n\n# Start server and dashboard\nmake run\n\n# Connect an agent (in another terminal)\nmake agent\n</code></pre> <p>Access the dashboard at https://localhost:8443</p> <p>See the Quick Start Guide for detailed instructions.</p>"},{"location":"#dashboard-pages","title":"Dashboard Pages","text":"Page Description Dashboard Overview with stats, security score, recent activity Agents Connected agents with status and deployment commands Techniques Browse and import MITRE ATT&amp;CK techniques ATT&amp;CK Matrix Interactive 14-column MITRE matrix visualization Scenarios Attack scenarios with phases, import/export, Run Executions Execution history with real-time WebSocket updates Analytics Score trends, period comparisons, charts Scheduler Schedule automated scenario executions (cron, daily, etc.) Settings Notifications, SMTP, execution defaults Admin/Users User management with 5 roles (admin only) Admin/Permissions Role-based permission matrix (admin only)"},{"location":"#current-techniques-48-total","title":"Current Techniques (48 total)","text":""},{"location":"#reconnaissance-2","title":"Reconnaissance (2)","text":"<p>T1592.004, T1595.002</p>"},{"location":"#initial-access-3","title":"Initial Access (3)","text":"<p>T1078, T1133, T1190</p>"},{"location":"#execution-5","title":"Execution (5)","text":"<p>T1059.001, T1059.003, T1059.004, T1047, T1059.006</p>"},{"location":"#persistence-4","title":"Persistence (4)","text":"<p>T1053.005, T1547.001, T1053.003, T1543.002</p>"},{"location":"#privilege-escalation-4","title":"Privilege Escalation (4)","text":"<p>T1548.001, T1548.002, T1078.003, T1134.001</p>"},{"location":"#defense-evasion-6","title":"Defense Evasion (6)","text":"<p>T1070.004, T1562.001, T1027, T1070.001, T1036.005, T1218.011</p>"},{"location":"#credential-access-4","title":"Credential Access (4)","text":"<p>T1552.001, T1555.003, T1003.008, T1552.004</p>"},{"location":"#discovery-9","title":"Discovery (9)","text":"<p>T1082, T1083, T1057, T1016, T1049, T1087, T1069, T1018, T1007</p>"},{"location":"#lateral-movement-3","title":"Lateral Movement (3)","text":"<p>T1021.001, T1021.002, T1021.004</p>"},{"location":"#collection-4","title":"Collection (4)","text":"<p>T1005, T1039, T1074.001, T1119</p>"},{"location":"#command-and-control-3","title":"Command and Control (3)","text":"<p>T1071.001, T1105, T1572</p>"},{"location":"#exfiltration-3","title":"Exfiltration (3)","text":"<p>T1048.003, T1041, T1567.002</p>"},{"location":"#impact-3","title":"Impact (3)","text":"<p>T1490, T1489, T1486</p> <p>All techniques support Safe Mode for production-safe testing.</p>"},{"location":"#api-overview","title":"API Overview","text":""},{"location":"#authentication","title":"Authentication","text":"Endpoint Description <code>POST /api/v1/auth/login</code> Login (username/password) <code>POST /api/v1/auth/refresh</code> Refresh access token <code>POST /api/v1/auth/logout</code> Invalidate tokens <code>GET /api/v1/auth/me</code> Get current user info"},{"location":"#core-api","title":"Core API","text":"Endpoint Description <code>GET /api/v1/agents</code> List connected agents <code>GET /api/v1/techniques</code> List MITRE techniques <code>GET /api/v1/techniques/coverage</code> MITRE coverage statistics <code>GET /api/v1/scenarios</code> List attack scenarios <code>POST /api/v1/executions</code> Start an execution <code>GET /api/v1/executions/:id/results</code> Get execution results <code>GET /api/v1/analytics/trend</code> Score trend over time <code>GET /api/v1/schedules</code> List scheduled executions <code>GET /api/v1/notifications</code> Get notifications <code>GET /api/v1/admin/users</code> User management (admin) <code>GET /api/v1/permissions/matrix</code> Permission matrix <p>See the complete API Reference.</p>"},{"location":"#websocket-events","title":"WebSocket Events","text":"<p>Real-time updates via <code>wss://localhost:8443/ws/dashboard</code>:</p> <ul> <li><code>execution_started</code> - Execution began</li> <li><code>execution_completed</code> - Execution finished</li> <li><code>execution_cancelled</code> - Execution stopped</li> </ul>"},{"location":"#security-score","title":"Security Score","text":"<p>Measures how well your defenses perform:</p> Result Points Meaning Blocked 100 Attack prevented Detected 50 Attack seen but not stopped Success 0 Attack succeeded undetected <p>Formula: <code>(blocked*100 + detected*50) / (total*100) * 100%</code></p>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub Repository</li> <li>MITRE ATT&amp;CK Framework</li> <li>API Reference</li> <li>Quick Start Guide</li> </ul>"},{"location":"api/","title":"API","text":"<p>Documentation de l'API REST AutoStrike.</p>"},{"location":"api/#base-url","title":"Base URL","text":"<pre><code>https://server:8443/api/v1\n</code></pre>"},{"location":"api/#authentification","title":"Authentification","text":"<p>L'authentification JWT est optionnelle par d\u00e9faut. Elle est activ\u00e9e uniquement si <code>JWT_SECRET</code> est d\u00e9fini dans <code>.env</code>.</p>"},{"location":"api/#sans-authentification-developpement","title":"Sans authentification (d\u00e9veloppement)","text":"<pre><code>curl https://localhost:8443/api/v1/agents\n</code></pre>"},{"location":"api/#avec-authentification-production","title":"Avec authentification (production)","text":"<p>Quand <code>JWT_SECRET</code> est d\u00e9fini, utilisez l'endpoint <code>/auth/login</code> pour obtenir un token :</p> <pre><code># Login\ncurl -X POST https://localhost:8443/api/v1/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"admin\", \"password\": \"admin123\"}'\n\n# Utiliser le token\ncurl https://localhost:8443/api/v1/agents \\\n  -H \"Authorization: Bearer &lt;access_token&gt;\"\n</code></pre> <p>Identifiants par d\u00e9faut: <code>admin / admin123</code></p>"},{"location":"api/#endpoints-dauthentification","title":"Endpoints d'authentification","text":"M\u00e9thode Endpoint Description POST <code>/auth/login</code> Login (retourne access_token + refresh_token) POST <code>/auth/refresh</code> Rafra\u00eechir le token d'acc\u00e8s POST <code>/auth/logout</code> Invalider les tokens GET <code>/auth/me</code> Infos utilisateur courant"},{"location":"api/#endpoints-principaux","title":"Endpoints principaux","text":"M\u00e9thode Endpoint Description GET <code>/health</code> Health check GET <code>/agents</code> Liste des agents GET <code>/techniques</code> Liste des techniques MITRE GET <code>/techniques/coverage</code> Statistiques de couverture MITRE GET <code>/scenarios</code> Liste des sc\u00e9narios POST <code>/executions</code> Lancer une ex\u00e9cution GET <code>/executions/:id</code> D\u00e9tails d'une ex\u00e9cution GET <code>/executions/:id/results</code> R\u00e9sultats d'une ex\u00e9cution"},{"location":"api/#analytics","title":"Analytics","text":"M\u00e9thode Endpoint Description GET <code>/analytics/period</code> Statistiques par p\u00e9riode GET <code>/analytics/comparison</code> Comparaison entre p\u00e9riodes GET <code>/analytics/trend</code> Tendance du score GET <code>/analytics/summary</code> R\u00e9sum\u00e9 des ex\u00e9cutions"},{"location":"api/#planification-schedules","title":"Planification (Schedules)","text":"M\u00e9thode Endpoint Description GET <code>/schedules</code> Liste des planifications POST <code>/schedules</code> Cr\u00e9er une planification PUT <code>/schedules/:id</code> Modifier une planification DELETE <code>/schedules/:id</code> Supprimer une planification POST <code>/schedules/:id/pause</code> Mettre en pause POST <code>/schedules/:id/resume</code> Reprendre POST <code>/schedules/:id/run</code> Ex\u00e9cuter maintenant"},{"location":"api/#notifications","title":"Notifications","text":"M\u00e9thode Endpoint Description GET <code>/notifications</code> Liste des notifications GET <code>/notifications/unread/count</code> Nombre de non-lues POST <code>/notifications/:id/read</code> Marquer comme lue POST <code>/notifications/read-all</code> Tout marquer comme lu GET <code>/notifications/settings</code> Param\u00e8tres de notification GET <code>/notifications/smtp</code> Configuration SMTP (admin)"},{"location":"api/#administration","title":"Administration","text":"M\u00e9thode Endpoint Description GET <code>/admin/users</code> Liste des utilisateurs POST <code>/admin/users</code> Cr\u00e9er un utilisateur PUT <code>/admin/users/:id</code> Modifier un utilisateur PUT <code>/admin/users/:id/role</code> Changer le r\u00f4le DELETE <code>/admin/users/:id</code> D\u00e9sactiver un utilisateur POST <code>/admin/users/:id/reactivate</code> R\u00e9activer un utilisateur POST <code>/admin/users/:id/reset-password</code> R\u00e9initialiser le mot de passe"},{"location":"api/#permissions","title":"Permissions","text":"M\u00e9thode Endpoint Description GET <code>/permissions/matrix</code> Matrice des permissions par r\u00f4le GET <code>/permissions/me</code> Mes permissions"},{"location":"api/#websocket","title":"WebSocket","text":"Path Description <code>/ws/agent</code> Connexion agent <code>/ws/dashboard</code> Mises \u00e0 jour temps r\u00e9el"},{"location":"api/#documentation-complete","title":"Documentation compl\u00e8te","text":"<p>Voir la R\u00e9f\u00e9rence API pour tous les endpoints, param\u00e8tres et exemples.</p>"},{"location":"api/reference/","title":"API Reference","text":"<p>Base URL: <code>https://localhost:8443/api/v1</code></p>"},{"location":"api/reference/#authentication","title":"Authentication","text":""},{"location":"api/reference/#jwt-tokens-optional","title":"JWT Tokens (Optional)","text":"<p>Authentication is disabled by default in development mode. To enable it, set <code>JWT_SECRET</code> in your environment.</p> <p>When enabled, all API requests require a JWT token in the Authorization header:</p> <pre><code>Authorization: Bearer &lt;token&gt;\n</code></pre> <p>The JWT token is signed with the <code>JWT_SECRET</code> and contains: - <code>sub</code>: User ID - <code>role</code>: User role (admin, rssi, operator, analyst, viewer) - <code>exp</code>: Token expiration date</p>"},{"location":"api/reference/#auth-endpoints-public","title":"Auth Endpoints (Public)","text":""},{"location":"api/reference/#login","title":"Login","text":"<pre><code>POST /api/v1/auth/login\n</code></pre> <p>Rate limit: 5 attempts/minute per IP</p> <p>Body: <pre><code>{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}\n</code></pre></p> <p>Response (200): <pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"expires_in\": 900\n}\n</code></pre></p>"},{"location":"api/reference/#refresh-token","title":"Refresh Token","text":"<pre><code>POST /api/v1/auth/refresh\n</code></pre> <p>Rate limit: 10 attempts/minute per IP</p> <p>Body: <pre><code>{\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIs...\"\n}\n</code></pre></p>"},{"location":"api/reference/#logout","title":"Logout","text":"<pre><code>POST /api/v1/auth/logout\n</code></pre> <p>Invalidates the current token (added to blacklist).</p>"},{"location":"api/reference/#get-current-user","title":"Get Current User","text":"<pre><code>GET /api/v1/auth/me\nAuthorization: Bearer &lt;token&gt;\n</code></pre> <p>Response: <pre><code>{\n  \"id\": \"user-uuid\",\n  \"username\": \"admin\",\n  \"email\": \"admin@autostrike.local\",\n  \"role\": \"admin\"\n}\n</code></pre></p>"},{"location":"api/reference/#agent-authentication","title":"Agent Authentication","text":"<p>Agents use a specific header:</p> <pre><code>X-Agent-Key: &lt;agent_secret&gt;\n</code></pre> <p>The agent secret is defined in the <code>AGENT_SECRET</code> environment variable.</p>"},{"location":"api/reference/#token-generation-development","title":"Token Generation (Development)","text":"<p>For testing, generate a JWT token with:</p> <pre><code>SECRET=\"your-jwt-secret\"\nHEADER=$(echo -n '{\"alg\":\"HS256\",\"typ\":\"JWT\"}' | base64 -w0 | tr '/+' '_-' | tr -d '=')\nPAYLOAD=$(echo -n '{\"sub\":\"admin\",\"role\":\"admin\",\"exp\":'$(($(date +%s) + 86400))'}' | base64 -w0 | tr '/+' '_-' | tr -d '=')\nSIGNATURE=$(echo -n \"${HEADER}.${PAYLOAD}\" | openssl dgst -sha256 -hmac \"${SECRET}\" -binary | base64 -w0 | tr '/+' '_-' | tr -d '=')\necho \"${HEADER}.${PAYLOAD}.${SIGNATURE}\"\n</code></pre>"},{"location":"api/reference/#health-check","title":"Health Check","text":""},{"location":"api/reference/#server-health","title":"Server Health","text":"<pre><code>GET /health\n</code></pre> <p>Response:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"auth_enabled\": true\n}\n</code></pre> <p>The <code>auth_enabled</code> field indicates whether JWT authentication is enabled on the server.</p>"},{"location":"api/reference/#agents","title":"Agents","text":""},{"location":"api/reference/#list-agents","title":"List Agents","text":"<pre><code>GET /api/v1/agents\n</code></pre> <p>Permission: <code>agents:view</code></p> <p>Query Parameters:</p> Parameter Type Description <code>all</code> boolean If <code>true</code>, returns all agents. Default: only online agents <p>Response:</p> <pre><code>[\n  {\n    \"paw\": \"agent-001\",\n    \"hostname\": \"WORKSTATION-01\",\n    \"username\": \"admin\",\n    \"platform\": \"windows\",\n    \"executors\": [\"powershell\", \"cmd\"],\n    \"status\": \"online\",\n    \"last_seen\": \"2024-01-01T12:00:00Z\",\n    \"created_at\": \"2024-01-01T10:00:00Z\"\n  }\n]\n</code></pre>"},{"location":"api/reference/#get-agent","title":"Get Agent","text":"<pre><code>GET /api/v1/agents/:paw\n</code></pre> <p>Permission: <code>agents:view</code></p>"},{"location":"api/reference/#register-agent","title":"Register Agent","text":"<pre><code>POST /api/v1/agents\n</code></pre> <p>Permission: <code>agents:create</code></p> <p>Body:</p> <pre><code>{\n  \"paw\": \"agent-001\",\n  \"hostname\": \"WORKSTATION-01\",\n  \"username\": \"admin\",\n  \"platform\": \"windows\",\n  \"executors\": [\"powershell\", \"cmd\"]\n}\n</code></pre>"},{"location":"api/reference/#delete-agent","title":"Delete Agent","text":"<pre><code>DELETE /api/v1/agents/:paw\n</code></pre> <p>Permission: <code>agents:delete</code></p>"},{"location":"api/reference/#heartbeat","title":"Heartbeat","text":"<pre><code>POST /api/v1/agents/:paw/heartbeat\n</code></pre> <p>Permission: <code>agents:view</code></p> <p>Updates the agent's <code>last_seen</code> timestamp.</p>"},{"location":"api/reference/#techniques","title":"Techniques","text":""},{"location":"api/reference/#list-techniques","title":"List Techniques","text":"<pre><code>GET /api/v1/techniques\n</code></pre> <p>Permission: <code>techniques:view</code></p> <p>Response:</p> <pre><code>[\n  {\n    \"id\": \"T1082\",\n    \"name\": \"System Information Discovery\",\n    \"description\": \"Adversaries may attempt to get detailed information...\",\n    \"tactic\": \"discovery\",\n    \"platforms\": [\"windows\", \"linux\"],\n    \"executors\": [\n      {\n        \"type\": \"cmd\",\n        \"command\": \"systeminfo\",\n        \"cleanup\": \"\",\n        \"timeout\": 60\n      }\n    ],\n    \"detection\": [\n      {\n        \"source\": \"Process Creation\",\n        \"indicator\": \"systeminfo.exe execution\"\n      }\n    ],\n    \"is_safe\": true\n  }\n]\n</code></pre>"},{"location":"api/reference/#get-technique","title":"Get Technique","text":"<pre><code>GET /api/v1/techniques/:id\n</code></pre> <p>Permission: <code>techniques:view</code></p>"},{"location":"api/reference/#techniques-by-tactic","title":"Techniques by Tactic","text":"<pre><code>GET /api/v1/techniques/tactic/:tactic\n</code></pre> <p>Permission: <code>techniques:view</code></p> <p>Available MITRE tactics:</p> Tactic Description <code>reconnaissance</code> Gathering information <code>initial-access</code> Getting into the network <code>execution</code> Running malicious code <code>persistence</code> Maintaining presence <code>privilege-escalation</code> Gaining higher permissions <code>defense-evasion</code> Avoiding detection <code>credential-access</code> Stealing credentials <code>discovery</code> Exploring the environment <code>lateral-movement</code> Moving through the network <code>collection</code> Gathering target data <code>command-and-control</code> Communicating with compromised systems <code>exfiltration</code> Stealing data <code>impact</code> Manipulating or destroying systems"},{"location":"api/reference/#techniques-by-platform","title":"Techniques by Platform","text":"<pre><code>GET /api/v1/techniques/platform/:platform\n</code></pre> <p>Permission: <code>techniques:view</code></p> <p>Platforms: <code>windows</code>, <code>linux</code>, <code>darwin</code></p>"},{"location":"api/reference/#mitre-coverage","title":"MITRE Coverage","text":"<pre><code>GET /api/v1/techniques/coverage\n</code></pre> <p>Permission: <code>techniques:view</code></p> <p>Response:</p> <pre><code>{\n  \"reconnaissance\": 2,\n  \"initial-access\": 3,\n  \"execution\": 5,\n  \"persistence\": 4,\n  \"privilege-escalation\": 4,\n  \"defense-evasion\": 6,\n  \"credential-access\": 4,\n  \"discovery\": 9,\n  \"lateral-movement\": 3,\n  \"collection\": 4,\n  \"command-and-control\": 3,\n  \"exfiltration\": 3,\n  \"impact\": 3\n}\n</code></pre>"},{"location":"api/reference/#import-techniques","title":"Import Techniques","text":"<pre><code>POST /api/v1/techniques/import\n</code></pre> <p>Permission: <code>techniques:import</code></p> <p>Body:</p> <pre><code>{\n  \"path\": \"/path/to/techniques.yaml\"\n}\n</code></pre>"},{"location":"api/reference/#scenarios","title":"Scenarios","text":""},{"location":"api/reference/#list-scenarios","title":"List Scenarios","text":"<pre><code>GET /api/v1/scenarios\n</code></pre> <p>Permission: <code>scenarios:view</code></p> <p>Response:</p> <pre><code>[\n  {\n    \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"name\": \"APT29 Discovery\",\n    \"description\": \"APT29 discovery techniques simulation\",\n    \"phases\": [\n      {\n        \"name\": \"Initial Discovery\",\n        \"techniques\": [\"T1082\", \"T1083\"],\n        \"order\": 1\n      }\n    ],\n    \"tags\": [\"apt29\", \"discovery\"],\n    \"created_at\": \"2024-01-01T10:00:00Z\",\n    \"updated_at\": \"2024-01-01T10:00:00Z\"\n  }\n]\n</code></pre>"},{"location":"api/reference/#get-scenario","title":"Get Scenario","text":"<pre><code>GET /api/v1/scenarios/:id\n</code></pre> <p>Permission: <code>scenarios:view</code></p>"},{"location":"api/reference/#scenarios-by-tag","title":"Scenarios by Tag","text":"<pre><code>GET /api/v1/scenarios/tag/:tag\n</code></pre> <p>Permission: <code>scenarios:view</code></p>"},{"location":"api/reference/#export-scenarios","title":"Export Scenarios","text":"<pre><code>GET /api/v1/scenarios/export\n</code></pre> <p>Permission: <code>scenarios:export</code></p> <p>Exports all scenarios as JSON.</p>"},{"location":"api/reference/#export-single-scenario","title":"Export Single Scenario","text":"<pre><code>GET /api/v1/scenarios/:id/export\n</code></pre> <p>Permission: <code>scenarios:export</code></p>"},{"location":"api/reference/#import-scenarios","title":"Import Scenarios","text":"<pre><code>POST /api/v1/scenarios/import\n</code></pre> <p>Permission: <code>scenarios:import</code></p> <p>Body: JSON array of scenario objects.</p>"},{"location":"api/reference/#create-scenario","title":"Create Scenario","text":"<pre><code>POST /api/v1/scenarios\n</code></pre> <p>Permission: <code>scenarios:create</code></p> <p>Body:</p> <pre><code>{\n  \"name\": \"APT29 Discovery\",\n  \"description\": \"APT29 discovery techniques simulation\",\n  \"phases\": [\n    {\n      \"name\": \"Initial Discovery\",\n      \"techniques\": [\"T1082\", \"T1083\"],\n      \"order\": 1\n    }\n  ],\n  \"tags\": [\"apt29\", \"discovery\"]\n}\n</code></pre> <p>Response (201):</p> <pre><code>{\n  \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"name\": \"APT29 Discovery\",\n  \"description\": \"APT29 discovery techniques simulation\",\n  \"phases\": [...],\n  \"tags\": [\"apt29\", \"discovery\"],\n  \"created_at\": \"2024-01-01T10:00:00Z\"\n}\n</code></pre> <p>Errors:</p> Code Description 400 Missing required fields (name, phases) or invalid technique 500 Server error"},{"location":"api/reference/#update-scenario","title":"Update Scenario","text":"<pre><code>PUT /api/v1/scenarios/:id\n</code></pre> <p>Permission: <code>scenarios:edit</code></p> <p>Body:</p> <pre><code>{\n  \"name\": \"APT29 Discovery Updated\",\n  \"description\": \"Updated description\",\n  \"phases\": [\n    {\n      \"name\": \"Phase 1\",\n      \"techniques\": [\"T1082\"],\n      \"order\": 1\n    }\n  ],\n  \"tags\": [\"apt29\"]\n}\n</code></pre> <p>Errors:</p> Code Description 400 Missing required fields or invalid technique 404 Scenario not found 500 Server error"},{"location":"api/reference/#delete-scenario","title":"Delete Scenario","text":"<pre><code>DELETE /api/v1/scenarios/:id\n</code></pre> <p>Permission: <code>scenarios:delete</code></p> <p>Response: 204 No Content</p>"},{"location":"api/reference/#executions","title":"Executions","text":""},{"location":"api/reference/#list-recent-executions","title":"List Recent Executions","text":"<pre><code>GET /api/v1/executions\n</code></pre> <p>Permission: <code>executions:view</code></p> <p>Returns the 50 most recent executions.</p> <p>Response:</p> <pre><code>[\n  {\n    \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"scenario_id\": \"scenario-001\",\n    \"status\": \"completed\",\n    \"started_at\": \"2024-01-01T12:00:00Z\",\n    \"completed_at\": \"2024-01-01T12:05:00Z\",\n    \"safe_mode\": true,\n    \"score\": {\n      \"overall\": 75.0,\n      \"blocked\": 3,\n      \"detected\": 2,\n      \"successful\": 1,\n      \"total\": 6\n    }\n  }\n]\n</code></pre> <p>Execution Status Values:</p> Status Description <code>pending</code> Execution created, not yet started <code>running</code> Execution in progress <code>completed</code> Execution finished successfully <code>failed</code> Execution encountered an error <code>cancelled</code> Execution was stopped by user"},{"location":"api/reference/#get-execution","title":"Get Execution","text":"<pre><code>GET /api/v1/executions/:id\n</code></pre> <p>Permission: <code>executions:view</code></p>"},{"location":"api/reference/#execution-results","title":"Execution Results","text":"<pre><code>GET /api/v1/executions/:id/results\n</code></pre> <p>Permission: <code>executions:view</code></p> <p>Response:</p> <pre><code>[\n  {\n    \"id\": \"result-uuid\",\n    \"execution_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"technique_id\": \"T1082\",\n    \"agent_paw\": \"agent-001\",\n    \"status\": \"detected\",\n    \"output\": \"Host Name: WORKSTATION-01...\",\n    \"detected\": true,\n    \"start_time\": \"2024-01-01T12:00:05Z\",\n    \"end_time\": \"2024-01-01T12:00:10Z\"\n  }\n]\n</code></pre> <p>Result Status Values:</p> Status Description <code>pending</code> Task not yet executed <code>running</code> Task currently executing <code>success</code> Task executed, not detected (bad for defense) <code>blocked</code> Task blocked by security controls (good for defense) <code>detected</code> Task executed but detected (partial defense) <code>failed</code> Task execution failed <code>skipped</code> Task skipped (e.g., incompatible platform) <code>timeout</code> Task timed out"},{"location":"api/reference/#start-execution","title":"Start Execution","text":"<pre><code>POST /api/v1/executions\n</code></pre> <p>Permission: <code>executions:start</code></p> <p>Body:</p> <pre><code>{\n  \"scenario_id\": \"scenario-001\",\n  \"agent_paws\": [\"agent-001\", \"agent-002\"],\n  \"safe_mode\": true\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"scenario_id\": \"scenario-001\",\n  \"status\": \"running\",\n  \"started_at\": \"2024-01-01T12:00:00Z\",\n  \"safe_mode\": true\n}\n</code></pre>"},{"location":"api/reference/#complete-execution","title":"Complete Execution","text":"<pre><code>POST /api/v1/executions/:id/complete\n</code></pre> <p>Permission: <code>executions:view</code></p> <p>Manually marks an execution as completed and calculates the security score.</p>"},{"location":"api/reference/#stop-execution","title":"Stop Execution","text":"<pre><code>POST /api/v1/executions/:id/stop\n</code></pre> <p>Permission: <code>executions:stop</code></p> <p>Stops a running or pending execution.</p> <p>Success Response (200):</p> <pre><code>{\n  \"status\": \"cancelled\"\n}\n</code></pre> <p>Errors:</p> Code Description 404 Execution not found 409 Execution already completed or cancelled 500 Server error"},{"location":"api/reference/#security-score-calculation","title":"Security Score Calculation","text":"<p>The security score is calculated using the formula:</p> <pre><code>score = (blocked * 100 + detected * 50) / (total * 100) * 100\n</code></pre> Result Points Description Blocked 100 Full protection - attack was prevented Detected 50 Partial protection - attack was seen but not stopped Success 0 No protection - attack succeeded undetected <p>Example: 5 techniques tested, 2 blocked, 2 detected, 1 successful <pre><code>score = (2*100 + 2*50) / (5*100) * 100 = 300/500 * 100 = 60%\n</code></pre></p>"},{"location":"api/reference/#schedules","title":"Schedules","text":""},{"location":"api/reference/#list-schedules","title":"List Schedules","text":"<pre><code>GET /api/v1/schedules\n</code></pre> <p>Permission: <code>scheduler:view</code></p> <p>Response:</p> <pre><code>[\n  {\n    \"id\": \"schedule-uuid\",\n    \"name\": \"Daily Discovery Scan\",\n    \"description\": \"Run discovery techniques daily\",\n    \"scenario_id\": \"scenario-001\",\n    \"agent_paw\": \"\",\n    \"frequency\": \"daily\",\n    \"cron_expr\": \"\",\n    \"safe_mode\": true,\n    \"status\": \"active\",\n    \"next_run_at\": \"2024-01-02T00:00:00Z\",\n    \"last_run_at\": \"2024-01-01T00:00:00Z\",\n    \"created_by\": \"user-uuid\",\n    \"created_at\": \"2024-01-01T10:00:00Z\"\n  }\n]\n</code></pre>"},{"location":"api/reference/#get-schedule","title":"Get Schedule","text":"<pre><code>GET /api/v1/schedules/:id\n</code></pre> <p>Permission: <code>scheduler:view</code></p>"},{"location":"api/reference/#create-schedule","title":"Create Schedule","text":"<pre><code>POST /api/v1/schedules\n</code></pre> <p>Permission: <code>scheduler:create</code></p> <p>Body:</p> <pre><code>{\n  \"name\": \"Daily Discovery Scan\",\n  \"description\": \"Run discovery techniques daily\",\n  \"scenario_id\": \"scenario-001\",\n  \"agent_paw\": \"\",\n  \"frequency\": \"daily\",\n  \"cron_expr\": \"\",\n  \"safe_mode\": true,\n  \"start_at\": \"2024-01-01T00:00:00Z\"\n}\n</code></pre> <p>Frequency Values: <code>once</code>, <code>hourly</code>, <code>daily</code>, <code>weekly</code>, <code>monthly</code>, <code>cron</code></p>"},{"location":"api/reference/#update-schedule","title":"Update Schedule","text":"<pre><code>PUT /api/v1/schedules/:id\n</code></pre> <p>Permission: <code>scheduler:edit</code></p>"},{"location":"api/reference/#delete-schedule","title":"Delete Schedule","text":"<pre><code>DELETE /api/v1/schedules/:id\n</code></pre> <p>Permission: <code>scheduler:delete</code></p>"},{"location":"api/reference/#pause-schedule","title":"Pause Schedule","text":"<pre><code>POST /api/v1/schedules/:id/pause\n</code></pre> <p>Permission: <code>scheduler:edit</code></p>"},{"location":"api/reference/#resume-schedule","title":"Resume Schedule","text":"<pre><code>POST /api/v1/schedules/:id/resume\n</code></pre> <p>Permission: <code>scheduler:edit</code></p>"},{"location":"api/reference/#run-schedule-now","title":"Run Schedule Now","text":"<pre><code>POST /api/v1/schedules/:id/run\n</code></pre> <p>Permission: <code>executions:start</code></p> <p>Triggers an immediate execution of the schedule's scenario.</p>"},{"location":"api/reference/#get-schedule-runs","title":"Get Schedule Runs","text":"<pre><code>GET /api/v1/schedules/:id/runs?limit=10\n</code></pre> <p>Permission: <code>scheduler:view</code></p>"},{"location":"api/reference/#notifications","title":"Notifications","text":""},{"location":"api/reference/#list-notifications","title":"List Notifications","text":"<pre><code>GET /api/v1/notifications?unread_only=false&amp;limit=50\n</code></pre>"},{"location":"api/reference/#unread-count","title":"Unread Count","text":"<pre><code>GET /api/v1/notifications/unread/count\n</code></pre>"},{"location":"api/reference/#get-notification-settings","title":"Get Notification Settings","text":"<pre><code>GET /api/v1/notifications/settings\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\": \"settings-uuid\",\n  \"user_id\": \"user-uuid\",\n  \"channel\": \"email\",\n  \"enabled\": true,\n  \"email_address\": \"user@example.com\",\n  \"notify_on_start\": false,\n  \"notify_on_complete\": true,\n  \"notify_on_failure\": true,\n  \"notify_on_score_alert\": true,\n  \"score_alert_threshold\": 50.0\n}\n</code></pre>"},{"location":"api/reference/#create-notification-settings","title":"Create Notification Settings","text":"<pre><code>POST /api/v1/notifications/settings\n</code></pre>"},{"location":"api/reference/#update-notification-settings","title":"Update Notification Settings","text":"<pre><code>PUT /api/v1/notifications/settings/:id\n</code></pre>"},{"location":"api/reference/#delete-notification-settings","title":"Delete Notification Settings","text":"<pre><code>DELETE /api/v1/notifications/settings/:id\n</code></pre>"},{"location":"api/reference/#mark-notification-as-read","title":"Mark Notification as Read","text":"<pre><code>POST /api/v1/notifications/:id/read\n</code></pre>"},{"location":"api/reference/#mark-all-as-read","title":"Mark All as Read","text":"<pre><code>POST /api/v1/notifications/read-all\n</code></pre>"},{"location":"api/reference/#get-smtp-configuration-admin","title":"Get SMTP Configuration (Admin)","text":"<pre><code>GET /api/v1/notifications/smtp\n</code></pre> <p>Permission: admin role required</p>"},{"location":"api/reference/#test-smtp-connection-admin","title":"Test SMTP Connection (Admin)","text":"<pre><code>POST /api/v1/notifications/smtp/test\n</code></pre> <p>Permission: admin role required</p>"},{"location":"api/reference/#analytics","title":"Analytics","text":""},{"location":"api/reference/#get-period-stats","title":"Get Period Stats","text":"<pre><code>GET /api/v1/analytics/period?days=30\n</code></pre> <p>Permission: <code>analytics:view</code></p>"},{"location":"api/reference/#get-score-trend","title":"Get Score Trend","text":"<pre><code>GET /api/v1/analytics/trend?days=30\n</code></pre> <p>Permission: <code>analytics:view</code></p> <p>Response:</p> <pre><code>{\n  \"period\": \"30d\",\n  \"data_points\": [\n    {\n      \"date\": \"2024-01-01\",\n      \"average_score\": 75.5,\n      \"execution_count\": 3,\n      \"blocked\": 5,\n      \"detected\": 3,\n      \"successful\": 2\n    }\n  ],\n  \"summary\": {\n    \"start_score\": 70.0,\n    \"end_score\": 80.0,\n    \"average_score\": 75.0,\n    \"overall_trend\": \"improving\",\n    \"percentage_change\": 14.3\n  }\n}\n</code></pre>"},{"location":"api/reference/#compare-periods","title":"Compare Periods","text":"<pre><code>GET /api/v1/analytics/comparison?days=7\n</code></pre> <p>Permission: <code>analytics:compare</code></p>"},{"location":"api/reference/#get-execution-summary","title":"Get Execution Summary","text":"<pre><code>GET /api/v1/analytics/summary?days=30\n</code></pre> <p>Permission: <code>analytics:view</code></p>"},{"location":"api/reference/#admin-users","title":"Admin - Users","text":""},{"location":"api/reference/#list-users","title":"List Users","text":"<pre><code>GET /api/v1/admin/users\n</code></pre> <p>Permission: admin role required</p> <p>Response:</p> <pre><code>[\n  {\n    \"id\": \"user-uuid\",\n    \"username\": \"admin\",\n    \"email\": \"admin@autostrike.local\",\n    \"role\": \"admin\",\n    \"is_active\": true,\n    \"last_login_at\": \"2024-01-01T12:00:00Z\",\n    \"created_at\": \"2024-01-01T10:00:00Z\"\n  }\n]\n</code></pre> <p>Roles: <code>admin</code>, <code>rssi</code>, <code>operator</code>, <code>analyst</code>, <code>viewer</code></p>"},{"location":"api/reference/#get-user","title":"Get User","text":"<pre><code>GET /api/v1/admin/users/:id\n</code></pre>"},{"location":"api/reference/#create-user","title":"Create User","text":"<pre><code>POST /api/v1/admin/users\n</code></pre> <p>Body:</p> <pre><code>{\n  \"username\": \"operator1\",\n  \"email\": \"operator1@example.com\",\n  \"password\": \"securepassword\",\n  \"role\": \"operator\"\n}\n</code></pre>"},{"location":"api/reference/#update-user","title":"Update User","text":"<pre><code>PUT /api/v1/admin/users/:id\n</code></pre>"},{"location":"api/reference/#update-user-role","title":"Update User Role","text":"<pre><code>PUT /api/v1/admin/users/:id/role\n</code></pre> <p>Body:</p> <pre><code>{\n  \"role\": \"analyst\"\n}\n</code></pre>"},{"location":"api/reference/#deactivate-user","title":"Deactivate User","text":"<pre><code>DELETE /api/v1/admin/users/:id\n</code></pre> <p>Deactivates the user (soft delete).</p>"},{"location":"api/reference/#reactivate-user","title":"Reactivate User","text":"<pre><code>POST /api/v1/admin/users/:id/reactivate\n</code></pre> <p>Reactivates a previously deactivated user.</p>"},{"location":"api/reference/#reset-user-password","title":"Reset User Password","text":"<pre><code>POST /api/v1/admin/users/:id/reset-password\n</code></pre> <p>Body:</p> <pre><code>{\n  \"new_password\": \"newsecurepassword\"\n}\n</code></pre>"},{"location":"api/reference/#permissions","title":"Permissions","text":""},{"location":"api/reference/#get-permission-matrix","title":"Get Permission Matrix","text":"<pre><code>GET /api/v1/permissions/matrix\n</code></pre> <p>Response:</p> <pre><code>{\n  \"roles\": [\"admin\", \"rssi\", \"operator\", \"analyst\", \"viewer\"],\n  \"categories\": [\n    {\"name\": \"Agents\", \"description\": \"Agent management\"}\n  ],\n  \"permissions\": [\n    {\"permission\": \"agents:read\", \"name\": \"View Agents\", \"category\": \"Agents\"}\n  ],\n  \"matrix\": {\n    \"admin\": [\"agents:read\", \"agents:write\", \"agents:delete\"],\n    \"operator\": [\"agents:read\", \"agents:write\"],\n    \"viewer\": [\"agents:read\"]\n  }\n}\n</code></pre>"},{"location":"api/reference/#get-my-permissions","title":"Get My Permissions","text":"<pre><code>GET /api/v1/permissions/me\n</code></pre> <p>Response:</p> <pre><code>{\n  \"role\": \"operator\",\n  \"permissions\": [\"agents:read\", \"agents:write\", \"techniques:read\", \"scenarios:read\"]\n}\n</code></pre>"},{"location":"api/reference/#websocket-protocol","title":"WebSocket Protocol","text":""},{"location":"api/reference/#connection-endpoints","title":"Connection Endpoints","text":"Endpoint Purpose <code>wss://localhost:8443/ws/agent</code> Agent connections <code>wss://localhost:8443/ws/dashboard</code> Dashboard real-time updates"},{"location":"api/reference/#message-format","title":"Message Format","text":"<p>All WebSocket messages follow this JSON structure:</p> <pre><code>{\n  \"type\": \"message_type\",\n  \"payload\": { ... }\n}\n</code></pre>"},{"location":"api/reference/#connection-parameters","title":"Connection Parameters","text":"Parameter Value Description Ping interval 54 seconds Server sends ping frames Pong timeout 60 seconds Connection closed if no pong Max message size 512 KB Maximum frame size Write timeout 10 seconds Maximum write duration"},{"location":"api/reference/#websocket-dashboard","title":"WebSocket (Dashboard)","text":""},{"location":"api/reference/#connection","title":"Connection","text":"<pre><code>wss://localhost:8443/ws/dashboard\n</code></pre> <p>The dashboard connects to receive real-time notifications.</p>"},{"location":"api/reference/#server-dashboard-messages","title":"Server -&gt; Dashboard Messages","text":"<p>Execution Started: <pre><code>{\n  \"type\": \"execution_started\",\n  \"payload\": {\n    \"execution_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"data\": {\n      \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n      \"scenario_id\": \"scenario-001\",\n      \"status\": \"running\"\n    }\n  }\n}\n</code></pre></p> <p>Execution Completed: <pre><code>{\n  \"type\": \"execution_completed\",\n  \"payload\": {\n    \"execution_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"data\": {\n      \"status\": \"completed\"\n    }\n  }\n}\n</code></pre></p> <p>Execution Cancelled: <pre><code>{\n  \"type\": \"execution_cancelled\",\n  \"payload\": {\n    \"execution_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"data\": {\n      \"status\": \"cancelled\"\n    }\n  }\n}\n</code></pre></p> <p>Pong (response to ping): <pre><code>{\n  \"type\": \"pong\",\n  \"payload\": {}\n}\n</code></pre></p>"},{"location":"api/reference/#dashboard-server-messages","title":"Dashboard -&gt; Server Messages","text":"<p>Ping: <pre><code>{\n  \"type\": \"ping\",\n  \"payload\": {}\n}\n</code></pre></p>"},{"location":"api/reference/#websocket-agents","title":"WebSocket (Agents)","text":""},{"location":"api/reference/#connection_1","title":"Connection","text":"<pre><code>wss://localhost:8443/ws/agent\n</code></pre>"},{"location":"api/reference/#agent-server-messages","title":"Agent -&gt; Server Messages","text":"<p>Registration (sent immediately after connection): <pre><code>{\n  \"type\": \"register\",\n  \"payload\": {\n    \"paw\": \"agent-001\",\n    \"hostname\": \"WORKSTATION-01\",\n    \"username\": \"admin\",\n    \"platform\": \"windows\",\n    \"executors\": [\"powershell\", \"cmd\"]\n  }\n}\n</code></pre></p> <p>Heartbeat (sent every 30 seconds by default): <pre><code>{\n  \"type\": \"heartbeat\",\n  \"payload\": {\n    \"paw\": \"agent-001\"\n  }\n}\n</code></pre></p> <p>Task Result: <pre><code>{\n  \"type\": \"task_result\",\n  \"payload\": {\n    \"task_id\": \"task-uuid\",\n    \"technique_id\": \"T1082\",\n    \"success\": true,\n    \"output\": \"Host Name: WORKSTATION-01...\",\n    \"exit_code\": 0,\n    \"error\": \"\"\n  }\n}\n</code></pre></p>"},{"location":"api/reference/#server-agent-messages","title":"Server -&gt; Agent Messages","text":"<p>Registration Acknowledgment: <pre><code>{\n  \"type\": \"registered\",\n  \"payload\": {\n    \"status\": \"ok\",\n    \"paw\": \"agent-001\"\n  }\n}\n</code></pre></p> <p>Task: <pre><code>{\n  \"type\": \"task\",\n  \"payload\": {\n    \"id\": \"task-uuid\",\n    \"technique_id\": \"T1082\",\n    \"command\": \"systeminfo\",\n    \"executor\": \"cmd\",\n    \"timeout\": 300,\n    \"cleanup\": \"\"\n  }\n}\n</code></pre></p> <p>Task Acknowledgment: <pre><code>{\n  \"type\": \"task_ack\",\n  \"payload\": {\n    \"task_id\": \"task-uuid\",\n    \"status\": \"received\"\n  }\n}\n</code></pre></p> <p>Ping: <pre><code>{\n  \"type\": \"ping\",\n  \"payload\": {}\n}\n</code></pre></p>"},{"location":"api/reference/#agent-connection-lifecycle","title":"Agent Connection Lifecycle","text":"<pre><code>1. Agent connects to wss://server:8443/ws/agent\n2. Agent sends \"register\" message with system info\n3. Server responds with \"registered\" acknowledgment\n4. Agent starts sending \"heartbeat\" every 30 seconds\n5. Server sends \"task\" messages when execution starts\n6. Agent executes command and sends \"task_result\"\n7. Server sends \"task_ack\" acknowledgment\n8. On disconnect, server marks agent as \"offline\"\n</code></pre>"},{"location":"api/reference/#reconnection-strategy","title":"Reconnection Strategy","text":"<p>The agent uses exponential backoff for reconnection:</p> <ul> <li>Initial delay: 1 second</li> <li>Multiplier: 2x after each failure</li> <li>Maximum delay: 60 seconds</li> <li>Reset to 1 second after successful connection</li> </ul>"},{"location":"api/reference/#error-codes","title":"Error Codes","text":"Code Description 400 Invalid request 401 Not authenticated 403 Access denied (insufficient permissions) 404 Resource not found 409 Conflict (e.g., execution already completed) 429 Too many requests (rate limited) 500 Server error <p>Error Response Format:</p> <pre><code>{\n  \"error\": \"error description\"\n}\n</code></pre>"},{"location":"api/reference/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>JWT_SECRET</code> JWT signing secret (enables auth when set) - <code>ENABLE_AUTH</code> Explicit auth override (<code>true</code>/<code>false</code>) - <code>AGENT_SECRET</code> Agent authentication secret - <code>DEFAULT_ADMIN_PASSWORD</code> Initial admin password Random <code>DATABASE_PATH</code> SQLite database path <code>./data/autostrike.db</code> <code>DASHBOARD_PATH</code> Path to dashboard dist folder <code>../dashboard/dist</code> <code>ALLOWED_ORIGINS</code> CORS allowed origins <code>localhost:3000,localhost:8443</code> <code>LOG_LEVEL</code> Logging level (debug, info, warn, error) <code>info</code> <code>SMTP_HOST</code> SMTP server hostname - <code>SMTP_PORT</code> SMTP server port <code>587</code> <code>SMTP_USERNAME</code> SMTP username - <code>SMTP_PASSWORD</code> SMTP password - <code>SMTP_FROM</code> Sender email address - <code>SMTP_USE_TLS</code> Use TLS for SMTP <code>false</code> <code>DASHBOARD_URL</code> Dashboard URL for email links <code>https://localhost:8443</code>"},{"location":"architecture/","title":"Architecture","text":"<p>AutoStrike uses a 3-tier architecture with three main components.</p>"},{"location":"architecture/#overview","title":"Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     PRESENTATION LAYER                               \u2502\n\u2502                     Dashboard (React + TypeScript)                   \u2502\n\u2502                     Served on port 8443 by Go server                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                            HTTPS / WebSocket\n                                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      SERVICE LAYER (API)                            \u2502\n\u2502                     Control Server (Go + Gin)                       \u2502\n\u2502                          Port 8443                                  \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502   \u2502  REST API   \u2502  \u2502  WebSocket  \u2502  \u2502 Orchestrator\u2502                \u2502\n\u2502   \u2502  /api/v1/*  \u2502  \u2502  /ws/*      \u2502  \u2502             \u2502                \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                              WebSocket (TLS)\n                                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          AGENTS (Rust)                              \u2502\n\u2502                                                                     \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502   \u2502   Windows   \u2502  \u2502    Linux    \u2502  \u2502    macOS    \u2502                \u2502\n\u2502   \u2502   Agent     \u2502  \u2502    Agent    \u2502  \u2502    Agent    \u2502                \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/#components","title":"Components","text":"Component Language Role Dashboard React/TypeScript User interface (11 pages) Backend Go API, orchestration, storage, WebSocket hub Agent Rust Technique execution on endpoints"},{"location":"architecture/#communication","title":"Communication","text":"Path Protocol Purpose Dashboard \u2194 Backend HTTPS + WebSocket REST API + real-time updates Backend \u2194 Agents WebSocket (TLS) Commands and results"},{"location":"architecture/#single-port-architecture","title":"Single Port Architecture","text":"<p>The Go server on port 8443 handles everything: - Static files (Dashboard) - REST API (<code>/api/v1/*</code>) - WebSocket for agents (<code>/ws/agent</code>) - WebSocket for dashboard (<code>/ws/dashboard</code>) - Health check (<code>/health</code>)</p>"},{"location":"architecture/#data-flow","title":"Data Flow","text":"<pre><code>1. User clicks \"Run\" on a scenario in Dashboard\n2. Dashboard sends POST /api/v1/executions\n3. Server creates execution, plans tasks\n4. Server broadcasts \"execution_started\" to dashboards\n5. Server sends \"task\" to each agent via WebSocket\n6. Agent executes command, sends \"task_result\"\n7. Server updates result, checks completion\n8. Server broadcasts \"execution_completed\" when done\n9. Dashboard auto-refreshes via WebSocket event\n</code></pre>"},{"location":"architecture/#key-technologies","title":"Key Technologies","text":"Layer Technologies Frontend React 18, TypeScript, TailwindCSS, TanStack Query, Chart.js Backend Go 1.24+, Gin, gorilla/websocket, SQLite, zap logger Agent Rust 1.75+, tokio, tokio-tungstenite, serde, tracing"},{"location":"architecture/agent/","title":"Agent (Rust)","text":"<p>The AutoStrike agent is built in Rust for performance, memory safety, and cross-platform support.</p>"},{"location":"architecture/agent/#features","title":"Features","text":"<ul> <li>MITRE ATT&amp;CK technique execution via multiple executors</li> <li>Secure WebSocket communication with automatic reconnection</li> <li>Multi-platform support: Windows, Linux, macOS (x64 and ARM64)</li> <li>Automatic platform detection and executor discovery</li> <li>Auto-cleanup after technique execution</li> <li>Periodic heartbeat to maintain connection (default: 30 seconds)</li> <li>Exponential backoff for reconnection (1s \u2192 60s max)</li> <li>Agent authentication via <code>X-Agent-Key</code> header</li> <li>Output truncation at 1 MB to prevent memory issues</li> </ul>"},{"location":"architecture/agent/#structure","title":"Structure","text":"<pre><code>agent/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 main.rs          # Entry point, CLI (clap)\n\u2502   \u251c\u2500\u2500 config.rs        # YAML configuration management\n\u2502   \u251c\u2500\u2500 client.rs        # WebSocket client, protocol handling\n\u2502   \u251c\u2500\u2500 executor.rs      # Command execution with timeout\n\u2502   \u2514\u2500\u2500 system.rs        # System detection (OS, hostname, executors)\n\u251c\u2500\u2500 Cargo.toml           # Rust dependencies\n\u251c\u2500\u2500 Cargo.lock\n\u2514\u2500\u2500 Dockerfile           # Multi-stage build\n</code></pre>"},{"location":"architecture/agent/#dependencies","title":"Dependencies","text":"Crate Usage <code>tokio</code> Async runtime <code>tokio-tungstenite</code> WebSocket client <code>serde</code> / <code>serde_json</code> Serialization <code>tracing</code> Structured logging <code>sysinfo</code> System information <code>whoami</code> Username detection <code>which</code> Executor detection <code>clap</code> CLI parsing <code>anyhow</code> Error handling <code>uuid</code> PAW generation"},{"location":"architecture/agent/#deployment","title":"Deployment","text":""},{"location":"architecture/agent/#windows","title":"Windows","text":"<pre><code>.\\autostrike-agent.exe --server https://server:8443 --paw AGENT_WIN_001\n</code></pre>"},{"location":"architecture/agent/#linux-macos","title":"Linux / macOS","text":"<pre><code>./autostrike-agent --server https://server:8443 --paw AGENT_LIN_001\n</code></pre>"},{"location":"architecture/agent/#with-agent-authentication","title":"With Agent Authentication","text":"<pre><code>./autostrike-agent --server https://server:8443 --paw AGENT_001 -k \"your-agent-secret\"\n</code></pre>"},{"location":"architecture/agent/#cli-options","title":"CLI Options","text":"Option Description Default <code>-s, --server</code> AutoStrike server URL <code>https://localhost:8443</code> <code>-p, --paw</code> Unique agent identifier Auto-generated UUID <code>-c, --config</code> Configuration file path <code>agent.yaml</code> <code>-d, --debug</code> Enable debug logging <code>false</code> <code>-k, --agent-secret</code> Agent authentication secret (<code>X-Agent-Key</code> header) -"},{"location":"architecture/agent/#configuration","title":"Configuration","text":"<p>File <code>agent.yaml</code>:</p> <pre><code>server_url: \"https://server:8443\"\npaw: \"agent-001\"\nheartbeat_interval: 30  # seconds\nagent_secret: \"your-agent-secret\"  # optional, X-Agent-Key header\n\ntls:\n  cert_file: \"./certs/agent.crt\"\n  key_file: \"./certs/agent.key\"\n  ca_file: \"./certs/ca.crt\"\n  verify: true\n</code></pre> <p>Priority: CLI arguments &gt; Config file &gt; Defaults</p>"},{"location":"architecture/agent/#system-detection","title":"System Detection","text":"<p>The agent automatically detects at startup:</p> Information Method Hostname <code>sysinfo::System::host_name()</code> Username <code>whoami::username()</code> Platform <code>cfg!(target_os)</code> compile-time OS Version <code>sysinfo::System::os_version()</code> Architecture <code>std::env::consts::ARCH</code>"},{"location":"architecture/agent/#executor-detection","title":"Executor Detection","text":"Windows Linux/macOS <code>powershell</code> <code>sh</code> <code>pwsh</code> <code>bash</code> <code>cmd</code> <code>zsh</code> <code>python3</code> <p>Detection uses the <code>which</code> crate to verify executors exist in PATH.</p>"},{"location":"architecture/agent/#websocket-protocol","title":"WebSocket Protocol","text":""},{"location":"architecture/agent/#registration-agent-server","title":"Registration (Agent \u2192 Server)","text":"<pre><code>{\n  \"type\": \"register\",\n  \"payload\": {\n    \"paw\": \"agent-001\",\n    \"hostname\": \"DESKTOP-ABC\",\n    \"username\": \"admin\",\n    \"platform\": \"windows\",\n    \"executors\": [\"powershell\", \"cmd\"]\n  }\n}\n</code></pre>"},{"location":"architecture/agent/#registration-acknowledgment-server-agent","title":"Registration Acknowledgment (Server \u2192 Agent)","text":"<pre><code>{\n  \"type\": \"registered\",\n  \"payload\": {\n    \"status\": \"ok\",\n    \"paw\": \"agent-001\"\n  }\n}\n</code></pre>"},{"location":"architecture/agent/#heartbeat-agent-server-every-30s","title":"Heartbeat (Agent \u2192 Server, every 30s)","text":"<pre><code>{\n  \"type\": \"heartbeat\",\n  \"payload\": {\n    \"paw\": \"agent-001\"\n  }\n}\n</code></pre>"},{"location":"architecture/agent/#task-server-agent","title":"Task (Server \u2192 Agent)","text":"<pre><code>{\n  \"type\": \"task\",\n  \"payload\": {\n    \"id\": \"task-uuid\",\n    \"technique_id\": \"T1082\",\n    \"command\": \"systeminfo\",\n    \"executor\": \"cmd\",\n    \"timeout\": 300,\n    \"cleanup\": \"del /f output.txt\"\n  }\n}\n</code></pre>"},{"location":"architecture/agent/#task-result-agent-server","title":"Task Result (Agent \u2192 Server)","text":"<pre><code>{\n  \"type\": \"task_result\",\n  \"payload\": {\n    \"task_id\": \"task-uuid\",\n    \"technique_id\": \"T1082\",\n    \"success\": true,\n    \"output\": \"Host Name: DESKTOP-ABC...\",\n    \"exit_code\": 0,\n    \"error\": \"\"\n  }\n}\n</code></pre>"},{"location":"architecture/agent/#connection-lifecycle","title":"Connection Lifecycle","text":"<pre><code>1. Connect to wss://server:8443/ws/agent\n2. Send \"register\" message with system info\n3. Receive \"registered\" acknowledgment\n4. Start heartbeat loop (every 30 seconds)\n5. Wait for \"task\" messages\n6. Execute command with timeout\n7. Send \"task_result\"\n8. Run cleanup command (if provided)\n9. Continue waiting for tasks\n</code></pre>"},{"location":"architecture/agent/#reconnection-strategy","title":"Reconnection Strategy","text":"<p>On connection failure, the agent uses exponential backoff:</p> <pre><code>Initial delay: 1 second\nAfter failure: delay \u00d7 2\nMaximum delay: 60 seconds\nOn success: reset to 1 second\n</code></pre> <p>The agent will retry indefinitely until connection is restored.</p>"},{"location":"architecture/agent/#command-execution","title":"Command Execution","text":""},{"location":"architecture/agent/#timeout-handling","title":"Timeout Handling","text":"<ul> <li>Commands have a configurable timeout (default: 300 seconds)</li> <li>On timeout: returns <code>success: false</code>, <code>exit_code: None</code>, <code>output: \"Command timed out\"</code></li> </ul>"},{"location":"architecture/agent/#output-truncation","title":"Output Truncation","text":"<ul> <li>Maximum output size: 1 MB (1,048,576 bytes)</li> <li>If output exceeds the limit, it is truncated at a safe UTF-8 character boundary</li> <li>Truncated outputs are appended with <code>\"\\n... [output truncated]\"</code></li> <li>This prevents memory issues with commands that produce large outputs</li> </ul>"},{"location":"architecture/agent/#platform-specific-executors","title":"Platform-Specific Executors","text":"<p>Windows: | Executor | Command | Arguments | |----------|---------|-----------| | powershell | powershell.exe | -NoProfile -NonInteractive -Command | | pwsh | pwsh.exe | -NoProfile -NonInteractive -Command | | cmd | cmd.exe | /C |</p> <p>Linux/macOS: | Executor | Shell | |----------|-------| | bash | /bin/bash -c | | sh | /bin/sh -c | | zsh | /bin/zsh -c |</p>"},{"location":"architecture/agent/#output-handling","title":"Output Handling","text":"<ul> <li>stdout and stderr are captured separately</li> <li>Combined into single output string</li> <li>UTF-8 decoding with lossy conversion</li> <li>Trimmed of leading/trailing whitespace</li> </ul>"},{"location":"architecture/agent/#cross-compilation","title":"Cross-Compilation","text":"<p>Build for multiple platforms:</p> <pre><code># Linux x64\ncargo build --release --target x86_64-unknown-linux-gnu\n\n# Linux ARM64\ncargo build --release --target aarch64-unknown-linux-gnu\n\n# Windows x64\ncargo build --release --target x86_64-pc-windows-gnu\n\n# macOS x64\ncargo build --release --target x86_64-apple-darwin\n\n# macOS ARM64 (M1/M2)\ncargo build --release --target aarch64-apple-darwin\n</code></pre>"},{"location":"architecture/agent/#supported-targets","title":"Supported Targets","text":"Target OS Architecture <code>x86_64-unknown-linux-gnu</code> Linux x64 <code>x86_64-unknown-linux-musl</code> Linux (static) x64 <code>x86_64-pc-windows-gnu</code> Windows x64 <code>x86_64-apple-darwin</code> macOS x64 <code>aarch64-unknown-linux-gnu</code> Linux ARM64 <code>aarch64-apple-darwin</code> macOS M1/M2 ARM64"},{"location":"architecture/agent/#testing","title":"Testing","text":"<p>67 unit tests across all modules:</p> <pre><code>cd agent\ncargo test           # Run all tests\ncargo test -- --nocapture  # With output\n</code></pre> <p>Test coverage: - CLI argument parsing (including <code>-k</code>/<code>--agent-secret</code>) - Configuration loading and merging - Message serialization/deserialization - Command execution - System info gathering - Reconnection logic</p>"},{"location":"architecture/agent/#security","title":"Security","text":"<ul> <li>TLS/mTLS: Encrypted communication with optional client certificates</li> <li>Agent authentication: <code>X-Agent-Key</code> header for server-side verification</li> <li>No hardcoded credentials: Configuration via file or CLI</li> <li>Automatic cleanup: Cleanup commands run after each technique</li> <li>Non-root recommended: Run without elevated privileges when possible</li> <li>Timeout protection: Prevents command hangs</li> <li>Output truncation: Prevents memory exhaustion from large outputs</li> </ul>"},{"location":"architecture/backend/","title":"Backend (Go)","text":"<p>The AutoStrike control server is built with Go 1.24+ using the Gin framework and hexagonal architecture.</p>"},{"location":"architecture/backend/#quest-ce-que-larchitecture-hexagonale","title":"Qu'est-ce que l'Architecture Hexagonale ?","text":"<p>L'architecture hexagonale (aussi appel\u00e9e Ports &amp; Adapters) est un pattern qui isole la logique m\u00e9tier des d\u00e9tails techniques (base de donn\u00e9es, HTTP, fichiers, etc.).</p>"},{"location":"architecture/backend/#le-principe","title":"Le Principe","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    INFRASTRUCTURE                            \u2502\n\u2502    (HTTP handlers, SQLite, WebSocket, fichiers YAML)        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                   APPLICATION                         \u2502  \u2502\n\u2502  \u2502           (Orchestration des use cases)               \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502\n\u2502  \u2502  \u2502                   DOMAIN                        \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502                                                 \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502   Entit\u00e9s : Agent, Technique, Execution, User   \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502             Notification, Schedule, Permission   \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502   Services : Orchestrator, Validator, Score     \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502   Interfaces : Repository (ports)               \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502                                                 \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502        \u26a0\ufe0f AUCUNE D\u00c9PENDANCE EXTERNE             \u2502  \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nLes d\u00e9pendances vont TOUJOURS vers l'int\u00e9rieur (\u2192 Domain)\n</code></pre>"},{"location":"architecture/backend/#pourquoi-cest-utile","title":"Pourquoi c'est utile ?","text":"Avantage Exemple concret dans AutoStrike Changer de BDD facilement SQLite \u2192 PostgreSQL = modifier uniquement <code>infrastructure/persistence/</code> Changer de framework HTTP Gin \u2192 Echo = modifier uniquement <code>infrastructure/http/</code> Tests unitaires simples Tester <code>ExecutionService</code> sans base de donn\u00e9es (mocks) Code m\u00e9tier stable Ajouter une API GraphQL sans toucher au domain"},{"location":"architecture/backend/#les-3-couches","title":"Les 3 couches","text":"Couche Responsabilit\u00e9 D\u00e9pend de Domain Logique m\u00e9tier pure, entit\u00e9s, interfaces Rien (ind\u00e9pendant) Application Orchestration des use cases Domain uniquement Infrastructure Adapters externes (HTTP, DB, WS) Application + Domain"},{"location":"architecture/backend/#exemple-ajouter-un-agent","title":"Exemple : Ajouter un agent","text":"<pre><code>1. HTTP Handler re\u00e7oit POST /api/v1/agents\n   \u2514\u2500&gt; infrastructure/http/handlers/agent_handler.go\n\n2. Handler appelle AgentService.Register()\n   \u2514\u2500&gt; application/agent_service.go\n\n3. Service valide et appelle Repository.Save()\n   \u2514\u2500&gt; domain/repository/agent_repository.go (interface)\n\n4. SQLite Repository impl\u00e9mente l'interface\n   \u2514\u2500&gt; infrastructure/persistence/sqlite/agent_repository.go\n</code></pre> <p>Le Domain ne sait pas que c'est SQLite ou HTTP. Il d\u00e9finit juste des interfaces.</p>"},{"location":"architecture/backend/#structure-des-dossiers","title":"Structure des dossiers","text":"<pre><code>server/\n\u251c\u2500\u2500 cmd/autostrike/\n\u2502   \u2514\u2500\u2500 main.go                    # Entry point, DI, startup\n\u251c\u2500\u2500 configs/\n\u2502   \u2514\u2500\u2500 techniques/                # YAML technique definitions (13 files)\n\u2502       \u251c\u2500\u2500 reconnaissance.yaml\n\u2502       \u251c\u2500\u2500 initial-access.yaml\n\u2502       \u251c\u2500\u2500 execution.yaml\n\u2502       \u251c\u2500\u2500 persistence.yaml\n\u2502       \u251c\u2500\u2500 privilege-escalation.yaml\n\u2502       \u251c\u2500\u2500 defense-evasion.yaml\n\u2502       \u251c\u2500\u2500 credential-access.yaml\n\u2502       \u251c\u2500\u2500 discovery.yaml\n\u2502       \u251c\u2500\u2500 lateral-movement.yaml\n\u2502       \u251c\u2500\u2500 collection.yaml\n\u2502       \u251c\u2500\u2500 command-and-control.yaml\n\u2502       \u251c\u2500\u2500 exfiltration.yaml\n\u2502       \u2514\u2500\u2500 impact.yaml\n\u251c\u2500\u2500 internal/\n\u2502   \u251c\u2500\u2500 domain/                    # \ud83d\udfe2 Business Layer (independent)\n\u2502   \u2502   \u251c\u2500\u2500 entity/                # Entities\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 agent.go           # Agent, AgentStatus\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 technique.go       # Technique, Executor, Detection\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 scenario.go        # Scenario, Phase\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 execution.go       # Execution, SecurityScore\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 result.go          # ExecutionResult, ResultStatus\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 user.go            # User, UserRole\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 notification.go    # Notification, NotificationSettings, SMTPConfig\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 schedule.go        # Schedule, ScheduleRun, ScheduleFrequency\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 permission.go      # Permission, PermissionMatrix\n\u2502   \u2502   \u251c\u2500\u2500 repository/            # Interfaces (outbound ports)\n\u2502   \u2502   \u2514\u2500\u2500 service/               # Domain services\n\u2502   \u2502       \u251c\u2500\u2500 orchestrator.go    # Attack orchestration\n\u2502   \u2502       \u251c\u2500\u2500 validator.go       # Compatibility validation\n\u2502   \u2502       \u2514\u2500\u2500 score_calculator.go # Security score calculation\n\u2502   \u251c\u2500\u2500 application/               # \ud83d\udfe1 Use Cases\n\u2502   \u2502   \u251c\u2500\u2500 agent_service.go       # Agent CRUD, heartbeat\n\u2502   \u2502   \u251c\u2500\u2500 auth_service.go        # Authentication (login, tokens, JWT)\n\u2502   \u2502   \u251c\u2500\u2500 execution_service.go   # Execution lifecycle\n\u2502   \u2502   \u251c\u2500\u2500 scenario_service.go    # Scenario management\n\u2502   \u2502   \u251c\u2500\u2500 technique_service.go   # Technique catalog\n\u2502   \u2502   \u251c\u2500\u2500 notification_service.go # Notification management, SMTP\n\u2502   \u2502   \u251c\u2500\u2500 schedule_service.go    # Schedule management, cron\n\u2502   \u2502   \u251c\u2500\u2500 analytics_service.go   # Analytics, trends, comparisons\n\u2502   \u2502   \u2514\u2500\u2500 token_blacklist.go     # JWT token blacklist for logout\n\u2502   \u2514\u2500\u2500 infrastructure/            # \ud83d\udd35 External Adapters\n\u2502       \u251c\u2500\u2500 api/rest/\n\u2502       \u2502   \u2514\u2500\u2500 server.go          # Gin REST server, route registration\n\u2502       \u251c\u2500\u2500 http/\n\u2502       \u2502   \u251c\u2500\u2500 handlers/          # HTTP handlers\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 agent_handler.go\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 auth_handler.go\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 technique_handler.go\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 scenario_handler.go\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 execution_handler.go\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 admin_handler.go        # User management (admin)\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 analytics_handler.go    # Analytics endpoints\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 notification_handler.go # Notification endpoints\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 schedule_handler.go     # Schedule endpoints\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 permission_handler.go   # Permission endpoints\n\u2502       \u2502   \u2502   \u2514\u2500\u2500 websocket_handler.go\n\u2502       \u2502   \u2514\u2500\u2500 middleware/\n\u2502       \u2502       \u251c\u2500\u2500 auth.go        # JWT auth, agent auth, roles, permissions\n\u2502       \u2502       \u251c\u2500\u2500 security.go    # Security headers (HSTS, CSP, etc.)\n\u2502       \u2502       \u251c\u2500\u2500 ratelimit.go   # Per-IP rate limiting\n\u2502       \u2502       \u2514\u2500\u2500 logging.go     # Request logging, panic recovery\n\u2502       \u251c\u2500\u2500 persistence/sqlite/    # SQLite implementation\n\u2502       \u2502   \u251c\u2500\u2500 schema.go\n\u2502       \u2502   \u251c\u2500\u2500 agent_repository.go\n\u2502       \u2502   \u251c\u2500\u2500 user_repository.go\n\u2502       \u2502   \u251c\u2500\u2500 technique_repository.go\n\u2502       \u2502   \u251c\u2500\u2500 scenario_repository.go\n\u2502       \u2502   \u251c\u2500\u2500 result_repository.go\n\u2502       \u2502   \u251c\u2500\u2500 notification_repository.go\n\u2502       \u2502   \u2514\u2500\u2500 schedule_repository.go\n\u2502       \u2514\u2500\u2500 websocket/             # Agent communication\n\u2502           \u251c\u2500\u2500 hub.go             # Connection management\n\u2502           \u2514\u2500\u2500 client.go          # Client handling\n\u251c\u2500\u2500 go.mod\n\u2514\u2500\u2500 go.sum\n</code></pre>"},{"location":"architecture/backend/#dependency-flow","title":"Dependency Flow","text":"<pre><code>Infrastructure \u2192 Application \u2192 Domain\n     \u2193               \u2193           \u2193\n  Handlers      Services     Entities\n  Repositories              Interfaces\n  WebSocket\n  Middleware\n</code></pre> <p>Rule: Dependencies always point inward toward Domain.</p>"},{"location":"architecture/backend/#api-endpoints","title":"API Endpoints","text":"<p>Base URL: <code>https://localhost:8443/api/v1</code></p>"},{"location":"architecture/backend/#health","title":"Health","text":"Method Endpoint Description <code>GET</code> <code>/health</code> Server health check"},{"location":"architecture/backend/#authentication-public-rate-limited","title":"Authentication (public, rate-limited)","text":"Method Endpoint Description <code>POST</code> <code>/auth/login</code> Login (5 attempts/min per IP) <code>POST</code> <code>/auth/refresh</code> Refresh token (10 attempts/min per IP) <code>POST</code> <code>/auth/logout</code> Invalidate tokens <code>GET</code> <code>/auth/me</code> Get current user info"},{"location":"architecture/backend/#agents","title":"Agents","text":"Method Endpoint Permission Description <code>GET</code> <code>/agents</code> <code>agents:view</code> List agents (<code>?all=true</code> for offline) <code>GET</code> <code>/agents/:paw</code> <code>agents:view</code> Get agent details <code>POST</code> <code>/agents</code> <code>agents:create</code> Register agent <code>DELETE</code> <code>/agents/:paw</code> <code>agents:delete</code> Delete agent <code>POST</code> <code>/agents/:paw/heartbeat</code> <code>agents:view</code> Update last_seen"},{"location":"architecture/backend/#techniques","title":"Techniques","text":"Method Endpoint Permission Description <code>GET</code> <code>/techniques</code> <code>techniques:view</code> List all techniques <code>GET</code> <code>/techniques/:id</code> <code>techniques:view</code> Get technique by ID <code>GET</code> <code>/techniques/tactic/:tactic</code> <code>techniques:view</code> By tactic <code>GET</code> <code>/techniques/platform/:platform</code> <code>techniques:view</code> By platform <code>GET</code> <code>/techniques/coverage</code> <code>techniques:view</code> Coverage statistics <code>POST</code> <code>/techniques/import</code> <code>techniques:import</code> Import from YAML"},{"location":"architecture/backend/#scenarios","title":"Scenarios","text":"Method Endpoint Permission Description <code>GET</code> <code>/scenarios</code> <code>scenarios:view</code> List all scenarios <code>GET</code> <code>/scenarios/:id</code> <code>scenarios:view</code> Get scenario details <code>GET</code> <code>/scenarios/tag/:tag</code> <code>scenarios:view</code> By tag <code>GET</code> <code>/scenarios/export</code> <code>scenarios:export</code> Export all scenarios <code>GET</code> <code>/scenarios/:id/export</code> <code>scenarios:export</code> Export single scenario <code>POST</code> <code>/scenarios</code> <code>scenarios:create</code> Create scenario <code>POST</code> <code>/scenarios/import</code> <code>scenarios:import</code> Import scenarios <code>PUT</code> <code>/scenarios/:id</code> <code>scenarios:edit</code> Update scenario <code>DELETE</code> <code>/scenarios/:id</code> <code>scenarios:delete</code> Delete scenario"},{"location":"architecture/backend/#executions","title":"Executions","text":"Method Endpoint Permission Description <code>GET</code> <code>/executions</code> <code>executions:view</code> Recent executions (limit 50) <code>GET</code> <code>/executions/:id</code> <code>executions:view</code> Get execution details <code>GET</code> <code>/executions/:id/results</code> <code>executions:view</code> Get results <code>POST</code> <code>/executions</code> <code>executions:start</code> Start execution <code>POST</code> <code>/executions/:id/stop</code> <code>executions:stop</code> Stop execution <code>POST</code> <code>/executions/:id/complete</code> <code>executions:view</code> Complete execution"},{"location":"architecture/backend/#analytics","title":"Analytics","text":"Method Endpoint Permission Description <code>GET</code> <code>/analytics/period</code> <code>analytics:view</code> Period stats <code>GET</code> <code>/analytics/comparison</code> <code>analytics:compare</code> Compare periods <code>GET</code> <code>/analytics/trend</code> <code>analytics:view</code> Score trend <code>GET</code> <code>/analytics/summary</code> <code>analytics:view</code> Execution summary"},{"location":"architecture/backend/#notifications","title":"Notifications","text":"Method Endpoint Permission Description <code>GET</code> <code>/notifications</code> authenticated Get notifications <code>GET</code> <code>/notifications/unread/count</code> authenticated Unread count <code>POST</code> <code>/notifications/:id/read</code> authenticated Mark as read <code>POST</code> <code>/notifications/read-all</code> authenticated Mark all as read <code>GET</code> <code>/notifications/settings</code> authenticated Get settings <code>POST</code> <code>/notifications/settings</code> authenticated Create settings <code>PUT</code> <code>/notifications/settings/:id</code> authenticated Update settings <code>DELETE</code> <code>/notifications/settings/:id</code> authenticated Delete settings <code>GET</code> <code>/notifications/smtp</code> admin Get SMTP config <code>POST</code> <code>/notifications/smtp/test</code> admin Test SMTP connection"},{"location":"architecture/backend/#schedules","title":"Schedules","text":"Method Endpoint Permission Description <code>GET</code> <code>/schedules</code> <code>scheduler:view</code> List schedules <code>GET</code> <code>/schedules/:id</code> <code>scheduler:view</code> Get schedule <code>GET</code> <code>/schedules/:id/runs</code> <code>scheduler:view</code> Get run history <code>POST</code> <code>/schedules</code> <code>scheduler:create</code> Create schedule <code>PUT</code> <code>/schedules/:id</code> <code>scheduler:edit</code> Update schedule <code>DELETE</code> <code>/schedules/:id</code> <code>scheduler:delete</code> Delete schedule <code>POST</code> <code>/schedules/:id/pause</code> <code>scheduler:edit</code> Pause schedule <code>POST</code> <code>/schedules/:id/resume</code> <code>scheduler:edit</code> Resume schedule <code>POST</code> <code>/schedules/:id/run</code> <code>executions:start</code> Run schedule now"},{"location":"architecture/backend/#permissions","title":"Permissions","text":"Method Endpoint Description <code>GET</code> <code>/permissions/matrix</code> Permission matrix for all roles <code>GET</code> <code>/permissions/me</code> Current user permissions"},{"location":"architecture/backend/#admin-requires-admin-role","title":"Admin (requires admin role)","text":"Method Endpoint Description <code>GET</code> <code>/admin/users</code> List all users <code>GET</code> <code>/admin/users/:id</code> Get user by ID <code>POST</code> <code>/admin/users</code> Create user <code>PUT</code> <code>/admin/users/:id</code> Update user <code>PUT</code> <code>/admin/users/:id/role</code> Update user role <code>DELETE</code> <code>/admin/users/:id</code> Deactivate user <code>POST</code> <code>/admin/users/:id/reactivate</code> Reactivate user <code>POST</code> <code>/admin/users/:id/reset-password</code> Reset user password"},{"location":"architecture/backend/#middleware","title":"Middleware","text":""},{"location":"architecture/backend/#authentication-authgo","title":"Authentication (<code>auth.go</code>)","text":"Middleware Description <code>NoAuthMiddleware()</code> Dev mode: sets anonymous user with admin role <code>AuthMiddleware(config)</code> JWT token validation and user context <code>AgentAuthMiddleware(config)</code> Agent auth via <code>X-Agent-Key</code> header <code>RoleMiddleware(roles...)</code> Role-based access control <code>PermissionMiddleware(perms...)</code> Permission check (requires ALL) <code>RequireAnyPermission(perms...)</code> Permission check (requires ANY)"},{"location":"architecture/backend/#security-headers-securitygo","title":"Security Headers (<code>security.go</code>)","text":"<p>Adds production security headers: - <code>Strict-Transport-Security</code> (HSTS) - <code>Content-Security-Policy</code> (CSP) - <code>X-Frame-Options</code> - <code>X-Content-Type-Options</code> - <code>X-XSS-Protection</code> - <code>Referrer-Policy</code> - <code>Permissions-Policy</code></p>"},{"location":"architecture/backend/#rate-limiting-ratelimitgo","title":"Rate Limiting (<code>ratelimit.go</code>)","text":"<p>Per-IP rate limiting with automatic cleanup every 5 minutes: - Login: 5 attempts/minute - Token refresh: 10 attempts/minute - Returns 429 Too Many Requests when exceeded</p>"},{"location":"architecture/backend/#logging-logginggo","title":"Logging (<code>logging.go</code>)","text":"<ul> <li>Structured request/response logging with zap</li> <li>Panic recovery middleware</li> </ul>"},{"location":"architecture/backend/#websocket-protocol","title":"WebSocket Protocol","text":""},{"location":"architecture/backend/#agent-connection","title":"Agent Connection","text":"<p>Endpoint: <code>wss://localhost:8443/ws/agent</code></p> <pre><code>// Agent \u2192 Server: Registration\n{\"type\": \"register\", \"payload\": {\"paw\": \"...\", \"hostname\": \"...\", \"platform\": \"...\", \"executors\": [...]}}\n\n// Server \u2192 Agent: Registered\n{\"type\": \"registered\", \"payload\": {\"status\": \"ok\", \"paw\": \"...\"}}\n\n// Agent \u2192 Server: Heartbeat (every 30s)\n{\"type\": \"heartbeat\", \"payload\": {\"paw\": \"...\"}}\n\n// Server \u2192 Agent: Task\n{\"type\": \"task\", \"payload\": {\"id\": \"...\", \"technique_id\": \"T1082\", \"command\": \"...\", \"executor\": \"cmd\", \"timeout\": 300}}\n\n// Agent \u2192 Server: Result\n{\"type\": \"task_result\", \"payload\": {\"task_id\": \"...\", \"technique_id\": \"...\", \"success\": true, \"output\": \"...\", \"exit_code\": 0}}\n\n// Server \u2192 Agent: Acknowledgment\n{\"type\": \"task_ack\", \"payload\": {\"task_id\": \"...\", \"status\": \"received\"}}\n</code></pre>"},{"location":"architecture/backend/#dashboard-connection","title":"Dashboard Connection","text":"<p>Endpoint: <code>wss://localhost:8443/ws/dashboard</code></p> <pre><code>// Server broadcasts to all dashboards\n{\"type\": \"execution_started\", \"payload\": {\"execution_id\": \"...\", \"data\": {...}}}\n{\"type\": \"execution_completed\", \"payload\": {\"execution_id\": \"...\", \"data\": {...}}}\n{\"type\": \"execution_cancelled\", \"payload\": {\"execution_id\": \"...\", \"data\": {...}}}\n\n// Dashboard \u2192 Server: Ping\n{\"type\": \"ping\", \"payload\": {}}\n// Server \u2192 Dashboard: Pong\n{\"type\": \"pong\", \"payload\": {}}\n</code></pre>"},{"location":"architecture/backend/#connection-parameters","title":"Connection Parameters","text":"Parameter Value Description Ping interval 54 seconds Server sends ping frames Pong timeout 60 seconds Connection closed if no pong Max message size 512 KB Maximum frame size Write timeout 10 seconds Maximum write duration"},{"location":"architecture/backend/#websocket-hub","title":"WebSocket Hub","text":"<p>The Hub manages all WebSocket connections:</p> <pre><code>type Hub struct {\n    clients   map[*Client]bool     // All connected clients\n    agents    map[string]*Client   // Agents indexed by PAW\n    broadcast chan []byte          // Broadcast channel\n    register  chan *Client         // Registration channel\n    unregister chan *Client        // Unregistration channel\n}\n\n// Key methods\nfunc (h *Hub) SendToAgent(paw string, message []byte) bool\nfunc (h *Hub) Broadcast(message []byte)\nfunc (h *Hub) IsAgentConnected(paw string) bool\nfunc (h *Hub) GetConnectedAgents() []string\nfunc (h *Hub) SetOnAgentDisconnect(callback func(paw string))\n</code></pre>"},{"location":"architecture/backend/#security-score","title":"Security Score","text":"<p>Formula: <code>(blocked \u00d7 100 + detected \u00d7 50) / (total \u00d7 100) \u00d7 100</code></p> Status Points Description Blocked 100 Attack prevented by defenses Detected 50 Attack executed but detected Success 0 Attack executed without detection <p>Example: 5 techniques, 2 blocked, 2 detected, 1 successful <pre><code>Score = (2\u00d7100 + 2\u00d750) / (5\u00d7100) \u00d7 100 = 60%\n</code></pre></p>"},{"location":"architecture/backend/#domain-entities","title":"Domain Entities","text":""},{"location":"architecture/backend/#agent","title":"Agent","text":"<pre><code>type Agent struct {\n    Paw       string\n    Hostname  string\n    Platform  string            // windows, linux, darwin\n    Username  string\n    Executors []string          // psh, cmd, bash, sh\n    Status    AgentStatus       // online, offline, busy, untrusted\n    LastSeen  time.Time\n    IPAddress string\n    OSVersion string\n    Metadata  map[string]string\n    CreatedAt time.Time\n}\n</code></pre>"},{"location":"architecture/backend/#technique","title":"Technique","text":"<pre><code>type Technique struct {\n    ID          string\n    Name        string\n    Description string\n    Tactic      TacticType\n    Platforms   []string\n    Executors   []Executor\n    Detection   []Detection\n    IsSafe      bool\n}\n</code></pre>"},{"location":"architecture/backend/#execution","title":"Execution","text":"<pre><code>type Execution struct {\n    ID          string\n    ScenarioID  string\n    Status      ExecutionStatus // pending, running, completed, failed, cancelled\n    StartedAt   time.Time\n    CompletedAt *time.Time\n    SafeMode    bool\n    Score       *SecurityScore\n}\n</code></pre>"},{"location":"architecture/backend/#executionresult","title":"ExecutionResult","text":"<pre><code>type ExecutionResult struct {\n    ID          string\n    ExecutionID string\n    TechniqueID string\n    AgentPaw    string\n    Status      ResultStatus // pending, success, blocked, detected, failed\n    Output      string\n    ExitCode    int\n    StartedAt   time.Time\n    CompletedAt *time.Time\n}\n</code></pre>"},{"location":"architecture/backend/#user","title":"User","text":"<pre><code>type User struct {\n    ID           string\n    Username     string\n    Email        string\n    PasswordHash string      // Never exposed in JSON\n    Role         UserRole    // admin, rssi, operator, analyst, viewer\n    IsActive     bool\n    LastLoginAt  *time.Time\n    CreatedAt    time.Time\n    UpdatedAt    time.Time\n}\n</code></pre>"},{"location":"architecture/backend/#notification","title":"Notification","text":"<pre><code>type Notification struct {\n    ID        string\n    UserID    string\n    Type      NotificationType // execution_started, execution_completed, execution_failed, score_alert, agent_offline\n    Title     string\n    Message   string\n    Data      map[string]any\n    Read      bool\n    SentAt    *time.Time\n    CreatedAt time.Time\n}\n\ntype NotificationSettings struct {\n    ID                   string\n    UserID               string\n    Channel              NotificationChannel // email, webhook\n    Enabled              bool\n    EmailAddress         string\n    WebhookURL           string\n    NotifyOnStart        bool\n    NotifyOnComplete     bool\n    NotifyOnFailure      bool\n    NotifyOnScoreAlert   bool\n    ScoreAlertThreshold  float64\n    NotifyOnAgentOffline bool\n    CreatedAt            time.Time\n    UpdatedAt            time.Time\n}\n</code></pre>"},{"location":"architecture/backend/#schedule","title":"Schedule","text":"<pre><code>type Schedule struct {\n    ID          string\n    Name        string\n    Description string\n    ScenarioID  string\n    AgentPaw    string              // empty = any available\n    Frequency   ScheduleFrequency   // once, hourly, daily, weekly, monthly, cron\n    CronExpr    string              // only for cron frequency\n    SafeMode    bool\n    Status      ScheduleStatus      // active, paused, disabled\n    NextRunAt   *time.Time\n    LastRunAt   *time.Time\n    LastRunID   string\n    CreatedBy   string\n    CreatedAt   time.Time\n    UpdatedAt   time.Time\n}\n\ntype ScheduleRun struct {\n    ID          string\n    ScheduleID  string\n    ExecutionID string\n    StartedAt   time.Time\n    CompletedAt *time.Time\n    Status      string    // pending, running, completed, failed\n    Error       string\n}\n</code></pre>"},{"location":"architecture/backend/#permission","title":"Permission","text":"<pre><code>type Permission string\n// 28 permissions across 10 categories:\n// users:view, users:create, users:edit, users:delete\n// agents:view, agents:create, agents:delete\n// techniques:view, techniques:import\n// scenarios:view, scenarios:create, scenarios:edit, scenarios:delete, scenarios:import, scenarios:export\n// executions:view, executions:start, executions:stop\n// analytics:view, analytics:compare, analytics:export\n// settings:view, settings:edit\n// scheduler:view, scheduler:create, scheduler:edit, scheduler:delete\n</code></pre>"},{"location":"architecture/backend/#configuration","title":"Configuration","text":""},{"location":"architecture/backend/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>DATABASE_PATH</code> SQLite database path <code>./data/autostrike.db</code> <code>DASHBOARD_PATH</code> Dashboard dist folder <code>../dashboard/dist</code> <code>JWT_SECRET</code> JWT signing key (enables auth when set) - (auth disabled) <code>ENABLE_AUTH</code> Explicit auth override (<code>true</code>/<code>false</code>) - <code>AGENT_SECRET</code> Agent authentication secret - <code>DEFAULT_ADMIN_PASSWORD</code> Initial admin password Random <code>ALLOWED_ORIGINS</code> CORS origins <code>localhost:3000,localhost:8443</code> <code>LOG_LEVEL</code> Logging level <code>info</code>"},{"location":"architecture/backend/#smtp-configuration-optional","title":"SMTP Configuration (optional)","text":"Variable Description Default <code>SMTP_HOST</code> Mail server hostname - <code>SMTP_PORT</code> Mail server port <code>587</code> <code>SMTP_USERNAME</code> SMTP username - <code>SMTP_PASSWORD</code> SMTP password - <code>SMTP_FROM</code> Sender email address - <code>SMTP_USE_TLS</code> Use TLS <code>false</code> <code>DASHBOARD_URL</code> Dashboard URL for email links <code>https://localhost:8443</code>"},{"location":"architecture/backend/#authentication-behavior","title":"Authentication Behavior","text":"Configuration Auth Status <code>JWT_SECRET</code> not set Auth disabled (development mode) <code>JWT_SECRET</code> set Auth enabled (production mode) <code>ENABLE_AUTH=false</code> Auth disabled (explicit override) <code>ENABLE_AUTH=true</code> Auth enabled (explicit override)"},{"location":"architecture/backend/#testing","title":"Testing","text":"<p>200+ tests with comprehensive coverage:</p> Package Coverage application 83.0% entity 95.0% service 99.2% handlers 87.5% websocket 91.6% middleware 94.3% rest/server 87.9% sqlite 85.0% <pre><code>cd server\ngo test ./...              # Run all tests\ngo test ./... -cover       # With coverage\ngo test ./... -v           # Verbose output\n</code></pre>"},{"location":"architecture/backend/#running","title":"Running","text":"<pre><code># Development\ngo run ./cmd/autostrike\n\n# Production build\ngo build -o autostrike ./cmd/autostrike\n./autostrike\n\n# With authentication\nJWT_SECRET=secret ./autostrike\n\n# With full configuration\nJWT_SECRET=secret AGENT_SECRET=agent-key SMTP_HOST=mail.example.com ./autostrike\n</code></pre>"},{"location":"architecture/dashboard/","title":"Dashboard (React)","text":"<p>The AutoStrike dashboard is built with React 18, TypeScript, and TailwindCSS.</p>"},{"location":"architecture/dashboard/#tech-stack","title":"Tech Stack","text":"Technology Version Usage React 18.2 UI Framework TypeScript 5.3 Static typing Vite 7.3 Build tool TailwindCSS 3.4 Utility-first styling TanStack Query 5.17 Data fetching &amp; caching React Router 6.21 SPA navigation Chart.js 4.4 Charts (Doughnut) Axios 1.6 HTTP client Zustand 4.4 State management Headless UI 1.7 Accessible components Heroicons 2.1 SVG icons date-fns 3.2 Date formatting react-hot-toast 2.4 Toast notifications Vitest 4.0 Testing framework"},{"location":"architecture/dashboard/#structure","title":"Structure","text":"<pre><code>dashboard/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 main.tsx              # React entry + providers\n\u2502   \u251c\u2500\u2500 App.tsx               # Route configuration\n\u2502   \u251c\u2500\u2500 index.css             # Global styles + Tailwind directives\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u2502   \u251c\u2500\u2500 Layout.tsx        # Sidebar navigation layout + logout\n\u2502   \u2502   \u251c\u2500\u2500 ProtectedRoute.tsx # Route protection wrapper\n\u2502   \u2502   \u251c\u2500\u2500 MitreMatrix.tsx   # Interactive MITRE ATT&amp;CK matrix\n\u2502   \u2502   \u251c\u2500\u2500 RunExecutionModal.tsx  # Execution configuration modal\n\u2502   \u2502   \u251c\u2500\u2500 SecurityScore.tsx # Security score visualization\n\u2502   \u2502   \u251c\u2500\u2500 CoverageReport.tsx # MITRE coverage report\n\u2502   \u2502   \u251c\u2500\u2500 Modal.tsx         # Reusable modal component\n\u2502   \u2502   \u251c\u2500\u2500 Table.tsx         # Reusable table component\n\u2502   \u2502   \u251c\u2500\u2500 ThemeToggle.tsx   # Dark/light theme toggle\n\u2502   \u2502   \u251c\u2500\u2500 LoadingState.tsx  # Loading spinner component\n\u2502   \u2502   \u251c\u2500\u2500 EmptyState.tsx    # Empty state placeholder\n\u2502   \u2502   \u2514\u2500\u2500 ErrorBoundary.tsx # Error boundary wrapper\n\u2502   \u251c\u2500\u2500 contexts/\n\u2502   \u2502   \u2514\u2500\u2500 AuthContext.tsx   # Authentication state &amp; hooks\n\u2502   \u251c\u2500\u2500 hooks/\n\u2502   \u2502   \u2514\u2500\u2500 useWebSocket.ts   # WebSocket connection hook\n\u2502   \u251c\u2500\u2500 pages/\n\u2502   \u2502   \u251c\u2500\u2500 Dashboard.tsx     # Overview, KPIs, charts\n\u2502   \u2502   \u251c\u2500\u2500 Agents.tsx        # Agent list and management\n\u2502   \u2502   \u251c\u2500\u2500 Techniques.tsx    # MITRE ATT&amp;CK catalog\n\u2502   \u2502   \u251c\u2500\u2500 Matrix.tsx        # MITRE ATT&amp;CK matrix page\n\u2502   \u2502   \u251c\u2500\u2500 Scenarios.tsx     # Attack scenarios\n\u2502   \u2502   \u251c\u2500\u2500 Executions.tsx    # Execution history\n\u2502   \u2502   \u251c\u2500\u2500 ExecutionDetails.tsx  # Detailed execution results\n\u2502   \u2502   \u251c\u2500\u2500 Analytics.tsx     # Score trends, comparisons, reports\n\u2502   \u2502   \u251c\u2500\u2500 Scheduler.tsx     # Scheduled execution management\n\u2502   \u2502   \u251c\u2500\u2500 Settings.tsx      # Application configuration\n\u2502   \u2502   \u251c\u2500\u2500 Login.tsx         # Login page\n\u2502   \u2502   \u2514\u2500\u2500 Admin/            # Admin pages\n\u2502   \u2502       \u251c\u2500\u2500 Users.tsx     # User management\n\u2502   \u2502       \u2514\u2500\u2500 Permissions.tsx # Permission matrix\n\u2502   \u251c\u2500\u2500 lib/\n\u2502   \u2502   \u2514\u2500\u2500 api.ts            # Axios client with interceptors\n\u2502   \u2514\u2500\u2500 types/\n\u2502       \u2514\u2500\u2500 index.ts          # TypeScript type definitions\n\u251c\u2500\u2500 public/\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 vite.config.ts            # Vite config + API proxy\n\u251c\u2500\u2500 tailwind.config.js        # Tailwind + custom colors\n\u251c\u2500\u2500 tsconfig.json\n\u2514\u2500\u2500 Dockerfile                # Multi-stage build + nginx\n</code></pre>"},{"location":"architecture/dashboard/#pages","title":"Pages","text":""},{"location":"architecture/dashboard/#dashboard-dashboard","title":"Dashboard (<code>/dashboard</code>)","text":"<p>Overview page with: - Agents Online: Connected agent count - Security Score: Latest execution score (SecurityScore component) - Techniques Tested: Number of techniques executed - Doughnut Chart: Distribution of blocked/detected/successful - Recent Activity: Last 5 executions</p>"},{"location":"architecture/dashboard/#agents-agents","title":"Agents (<code>/agents</code>)","text":"<p>Agent management: - Cards with status (online/offline badge) - Information: hostname, username, platform - Available executors (badges) - Last seen with relative time</p>"},{"location":"architecture/dashboard/#techniques-techniques","title":"Techniques (<code>/techniques</code>)","text":"<p>MITRE ATT&amp;CK catalog: - Table with ID, name, description - Tactic color coding (14 colors) - Platform badges - Safe/Unsafe badge - Import techniques modal</p>"},{"location":"architecture/dashboard/#matrix-matrix","title":"Matrix (<code>/matrix</code>)","text":"<p>Interactive MITRE ATT&amp;CK matrix: - 14 tactic columns - Technique cells with safety indicators - Platform filter dropdown - Click to view technique details - Coverage statistics (CoverageReport component)</p>"},{"location":"architecture/dashboard/#scenarios-scenarios","title":"Scenarios (<code>/scenarios</code>)","text":"<p>Attack scenarios: - Cards with numbered phases - Technique count per phase - Category tags - Run button \u2192 Opens RunExecutionModal - Import/export support</p>"},{"location":"architecture/dashboard/#executions-executions","title":"Executions (<code>/executions</code>)","text":"<p>Execution history: - Table with score, status, mode - Details: blocked/detected/successful counts - Stop button for running executions - Real-time WebSocket updates - Click row \u2192 ExecutionDetails page</p>"},{"location":"architecture/dashboard/#executiondetails-executionsid","title":"ExecutionDetails (<code>/executions/:id</code>)","text":"<p>Detailed results: - Execution summary header - Score breakdown (blocked/detected/successful/total) - Results table with technique, agent, status, output - Expandable output viewer - Real-time polling while running</p>"},{"location":"architecture/dashboard/#settings-settings","title":"Settings (<code>/settings</code>)","text":"<p>Configuration: - Server URL - Default safe mode toggle - Agent settings (heartbeat, timeout) - TLS certificate paths - Notification settings</p>"},{"location":"architecture/dashboard/#analytics-analytics","title":"Analytics (<code>/analytics</code>)","text":"<p>Security analytics: - Score trend charts (7d, 30d, 90d) - Period comparison - Execution summary statistics - Score by tactic breakdown</p>"},{"location":"architecture/dashboard/#scheduler-scheduler","title":"Scheduler (<code>/scheduler</code>)","text":"<p>Schedule management: - Create/edit/delete schedules - Frequency options (once, hourly, daily, weekly, monthly, cron) - Safe mode toggle per schedule - Run history per schedule - Pause/resume schedules</p>"},{"location":"architecture/dashboard/#adminusers-adminusers","title":"Admin/Users (<code>/admin/users</code>)","text":"<p>User management (admin only): - User list with roles - Create/edit/delete users - Activate/deactivate users - Role assignment (admin, rssi, operator, analyst, viewer)</p>"},{"location":"architecture/dashboard/#adminpermissions-adminpermissions","title":"Admin/Permissions (<code>/admin/permissions</code>)","text":"<p>Permission matrix: - Role-based permission overview - Current user permissions display - Permission categories (agents, techniques, scenarios, executions, etc.)</p>"},{"location":"architecture/dashboard/#components","title":"Components","text":""},{"location":"architecture/dashboard/#mitrematrix","title":"MitreMatrix","text":"<p>Interactive MITRE ATT&amp;CK matrix visualization.</p> <p>Props: <pre><code>interface MitreMatrixProps {\n  techniques: Technique[];\n  onTechniqueClick?: (technique: Technique) =&gt; void;\n}\n</code></pre></p> <p>Features: - CSS Grid with 14 tactic columns - Platform filtering - Safety indicators (green/red dots) - Detail modal on click</p>"},{"location":"architecture/dashboard/#runexecutionmodal","title":"RunExecutionModal","text":"<p>Execution configuration modal.</p> <p>Props: <pre><code>interface RunExecutionModalProps {\n  scenario: Scenario;\n  onConfirm: (agentPaws: string[], safeMode: boolean) =&gt; void;\n  onCancel: () =&gt; void;\n  isLoading: boolean;\n}\n</code></pre></p> <p>Features: - Agent multi-select (online agents only) - Safe mode toggle - Scenario info display - Validation (requires at least one agent)</p>"},{"location":"architecture/dashboard/#securityscore","title":"SecurityScore","text":"<p>Security score visualization with color-coded display.</p>"},{"location":"architecture/dashboard/#coveragereport","title":"CoverageReport","text":"<p>MITRE ATT&amp;CK coverage statistics and reporting.</p>"},{"location":"architecture/dashboard/#modal","title":"Modal","text":"<p>Reusable modal dialog component.</p>"},{"location":"architecture/dashboard/#table","title":"Table","text":"<p>Reusable data table with sorting and filtering.</p>"},{"location":"architecture/dashboard/#themetoggle","title":"ThemeToggle","text":"<p>Dark/light theme toggle button.</p>"},{"location":"architecture/dashboard/#custom-hook-usewebsocket","title":"Custom Hook: useWebSocket","text":"<p>Real-time updates via WebSocket.</p> <pre><code>interface UseWebSocketOptions {\n  onMessage?: (message: WebSocketMessage) =&gt; void;\n  onConnect?: () =&gt; void;\n  onDisconnect?: () =&gt; void;\n  reconnectInterval?: number;  // default: 3000ms\n  maxRetries?: number;         // default: 5\n}\n\nconst { isConnected, send, lastMessage } = useWebSocket({\n  onMessage: (msg) =&gt; {\n    if (msg.type === 'execution_completed') {\n      queryClient.invalidateQueries(['executions']);\n    }\n  },\n});\n</code></pre> <p>Features: - Auto-reconnection with exponential backoff - Connection state tracking - JSON serialization</p>"},{"location":"architecture/dashboard/#css-classes-tailwind","title":"CSS Classes (Tailwind)","text":"<pre><code>.btn-primary    /* Primary blue button */\n.btn-danger     /* Danger red button */\n.card           /* Card with shadow and border */\n.input          /* Styled input field */\n.badge          /* Inline badge */\n.badge-success  /* Green badge (online, safe) */\n.badge-danger   /* Red badge (offline, unsafe) */\n.badge-warning  /* Orange badge (running) */\n</code></pre>"},{"location":"architecture/dashboard/#data-fetching","title":"Data Fetching","text":"<p>Using TanStack Query for fetching and caching:</p> <pre><code>import { useQuery, useMutation } from '@tanstack/react-query';\nimport { api, executionApi } from '@/lib/api';\n\n// Query\nconst { data: agents, isLoading } = useQuery({\n  queryKey: ['agents'],\n  queryFn: () =&gt; api.get('/agents').then(res =&gt; res.data),\n});\n\n// Mutation\nconst startMutation = useMutation({\n  mutationFn: ({ scenarioId, agentPaws, safeMode }) =&gt;\n    executionApi.start(scenarioId, agentPaws, safeMode),\n  onSuccess: () =&gt; {\n    queryClient.invalidateQueries(['executions']);\n    toast.success('Execution started');\n  },\n});\n</code></pre>"},{"location":"architecture/dashboard/#api-client","title":"API Client","text":"<p>The API client (<code>src/lib/api.ts</code>) provides: - Configurable base URL (<code>/api/v1</code>) - JWT token injection via interceptor - 401 handling (removes invalid token) - Typed API methods</p> <pre><code>export const executionApi = {\n  list: () =&gt; api.get('/executions'),\n  get: (id: string) =&gt; api.get(`/executions/${id}`),\n  getResults: (id: string) =&gt; api.get(`/executions/${id}/results`),\n  start: (scenarioId, agentPaws, safeMode) =&gt; api.post('/executions', {...}),\n  stop: (id: string) =&gt; api.post(`/executions/${id}/stop`),\n};\n</code></pre>"},{"location":"architecture/dashboard/#development","title":"Development","text":"<pre><code>cd dashboard\nnpm install       # Install dependencies\nnpm run dev       # Development server (port 3000)\nnpm run build     # Production build\nnpm run preview   # Preview build\nnpm run lint      # ESLint check\nnpm run type-check # TypeScript check\nnpm test          # Vitest tests (513 tests)\n</code></pre>"},{"location":"architecture/dashboard/#testing","title":"Testing","text":"<p>513 tests across 25 test files:</p> <ul> <li>Component tests (Layout, MitreMatrix, RunExecutionModal, SecurityScore, CoverageReport, Modal, Table, ThemeToggle, LoadingState, EmptyState, ErrorBoundary, ProtectedRoute)</li> <li>Page tests (Dashboard, Agents, Techniques, Scenarios, Executions, etc.)</li> <li>Hook tests (useWebSocket)</li> <li>API client tests</li> </ul> <pre><code>npm test -- --run        # Run once\nnpm test -- --coverage   # With coverage\n</code></pre>"},{"location":"architecture/dashboard/#docker","title":"Docker","text":"<p>Multi-stage Dockerfile: 1. Builder: Node 20 Alpine for build 2. Runtime: Nginx Alpine for serving</p> <pre><code>docker build -t autostrike-dashboard .\ndocker run -p 3000:80 autostrike-dashboard\n</code></pre> <p>Nginx configuration: - Proxy <code>/api/</code> to backend - Proxy <code>/ws/</code> for WebSocket - SPA fallback (<code>try_files</code>) - Static asset caching</p>"},{"location":"guide/","title":"Guide","text":"<p>Bienvenue dans le guide d'utilisation d'AutoStrike.</p>"},{"location":"guide/#sections","title":"Sections","text":"<ul> <li>Installation - Comment installer et configurer AutoStrike</li> <li>D\u00e9marrage rapide - Premiers pas avec la plateforme</li> <li>D\u00e9ploiement - Guide de d\u00e9ploiement en production</li> </ul>"},{"location":"guide/deployment/","title":"Deployment","text":"<p>Production deployment guide for AutoStrike.</p>"},{"location":"guide/deployment/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose (optional)</li> <li>TLS certificates (or Let's Encrypt)</li> <li>Linux server (Ubuntu 22.04+ recommended)</li> <li>Go 1.24+ and Node.js 18+ (for manual deployment)</li> </ul>"},{"location":"guide/deployment/#configuration","title":"Configuration","text":""},{"location":"guide/deployment/#1-environment-variables","title":"1. Environment Variables","text":"<p>Create a <code>.env</code> file from the template:</p> <pre><code>cd server\ncp .env.example .env\n</code></pre> <p>Generate secure secrets:</p> <pre><code># Generate JWT_SECRET\nopenssl rand -base64 32\n\n# Generate AGENT_SECRET\nopenssl rand -base64 32\n</code></pre> <p>Edit <code>.env</code> with the generated values:</p> <pre><code># Authentication (required for production)\nJWT_SECRET=&lt;your-generated-jwt-secret&gt;\nAGENT_SECRET=&lt;your-generated-agent-secret&gt;\n\n# Database\nDATABASE_PATH=./data/autostrike.db\n\n# Dashboard (path to built React app)\nDASHBOARD_PATH=../dashboard/dist\n\n# CORS (adjust for your domain)\nALLOWED_ORIGINS=https://your-domain.com\n\n# Logging\nLOG_LEVEL=info\n\n# SMTP (optional - for email notifications)\nSMTP_HOST=smtp.example.com\nSMTP_PORT=587\nSMTP_USERNAME=notifications@example.com\nSMTP_PASSWORD=&lt;smtp-password&gt;\nSMTP_FROM=noreply@example.com\nSMTP_USE_TLS=true\nDASHBOARD_URL=https://your-domain.com\n</code></pre>"},{"location":"guide/deployment/#2-tls-certificates","title":"2. TLS Certificates","text":""},{"location":"guide/deployment/#option-a-self-signed-certificates-testing","title":"Option A: Self-signed certificates (testing)","text":"<pre><code>mkdir -p certs\nopenssl req -x509 -nodes -days 365 -newkey rsa:2048 \\\n  -keyout certs/server.key \\\n  -out certs/server.crt \\\n  -subj \"/CN=autostrike.local\"\n</code></pre>"},{"location":"guide/deployment/#option-b-lets-encrypt-production","title":"Option B: Let's Encrypt (production)","text":"<pre><code># Install certbot\napt install certbot\n\n# Obtain certificate\ncertbot certonly --standalone -d autostrike.example.com\n\n# Copy certificates\ncp /etc/letsencrypt/live/autostrike.example.com/fullchain.pem certs/server.crt\ncp /etc/letsencrypt/live/autostrike.example.com/privkey.pem certs/server.key\n</code></pre>"},{"location":"guide/deployment/#deployment-methods","title":"Deployment Methods","text":""},{"location":"guide/deployment/#option-1-makefile-recommended","title":"Option 1: Makefile (Recommended)","text":"<pre><code># Build everything\nmake install\n\n# Start server (background)\nmake run\n\n# Check logs\nmake logs\n\n# Stop\nmake stop\n</code></pre>"},{"location":"guide/deployment/#option-2-docker-compose","title":"Option 2: Docker Compose","text":"<pre><code># Build and start\ndocker compose up -d\n\n# Check status\ndocker compose ps\n\n# View logs\ndocker compose logs -f\n\n# Stop\ndocker compose down\n</code></pre>"},{"location":"guide/deployment/#option-3-manual","title":"Option 3: Manual","text":"<pre><code># Build backend\ncd server\ngo build -o autostrike ./cmd/autostrike\n\n# Build frontend\ncd ../dashboard\nnpm install &amp;&amp; npm run build\n\n# Start server\ncd ../server\n./autostrike\n</code></pre>"},{"location":"guide/deployment/#verification","title":"Verification","text":"<pre><code># Test HTTPS connection\ncurl -k https://localhost:8443/health\n# Expected: {\"status\":\"ok\",\"auth_enabled\":true}\n\n# Test API (with JWT)\ncurl -k https://localhost:8443/api/v1/agents \\\n  -H \"Authorization: Bearer &lt;token&gt;\"\n</code></pre>"},{"location":"guide/deployment/#single-port-architecture","title":"Single Port Architecture","text":"<p>AutoStrike serves everything on port 8443:</p> Path Description <code>/</code> Dashboard (React SPA) <code>/api/v1/*</code> REST API <code>/ws/agent</code> WebSocket for agents <code>/ws/dashboard</code> WebSocket for real-time updates <code>/health</code> Health check <p>No separate ports needed for dashboard.</p>"},{"location":"guide/deployment/#agent-deployment","title":"Agent Deployment","text":""},{"location":"guide/deployment/#build-from-source","title":"Build from Source","text":"<pre><code>cd agent\ncargo build --release\n# Binary: target/release/autostrike-agent\n</code></pre>"},{"location":"guide/deployment/#windows","title":"Windows","text":"<pre><code># Copy binary to target machine\n# Run with server URL and agent secret\n.\\autostrike-agent.exe --server https://server:8443 --paw agent-win-01 -k \"your-agent-secret\"\n</code></pre>"},{"location":"guide/deployment/#linux","title":"Linux","text":"<pre><code># Copy binary to target machine\nchmod +x autostrike-agent\n\n# Run with server URL and agent secret\n./autostrike-agent --server https://server:8443 --paw agent-linux-01 -k \"your-agent-secret\"\n</code></pre>"},{"location":"guide/deployment/#agent-as-systemd-service","title":"Agent as systemd Service","text":"<pre><code># Create service file\ncat &gt; /etc/systemd/system/autostrike-agent.service &lt;&lt; EOF\n[Unit]\nDescription=AutoStrike BAS Agent\nAfter=network.target\n\n[Service]\nType=simple\nExecStart=/opt/autostrike/autostrike-agent --server https://server:8443 --paw $(hostname)\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Enable and start\nsystemctl daemon-reload\nsystemctl enable autostrike-agent\nsystemctl start autostrike-agent\n</code></pre>"},{"location":"guide/deployment/#maintenance","title":"Maintenance","text":""},{"location":"guide/deployment/#backup","title":"Backup","text":"<pre><code># Backup SQLite database\ncp server/data/autostrike.db backup-$(date +%Y%m%d).db\n\n# With Docker\ndocker compose exec server sqlite3 /app/data/autostrike.db \".backup /app/data/backup.db\"\ndocker cp autostrike-server:/app/data/backup.db ./backup-$(date +%Y%m%d).db\n</code></pre>"},{"location":"guide/deployment/#update","title":"Update","text":"<pre><code># Stop services\nmake stop  # or docker compose down\n\n# Pull updates\ngit pull\n\n# Rebuild and restart\nmake install\nmake run  # or docker compose up -d --build\n</code></pre>"},{"location":"guide/deployment/#logs","title":"Logs","text":"<pre><code># With Makefile\nmake logs\n\n# With Docker\ndocker compose logs -f\n\n# Direct\ntail -f server/logs/autostrike.log\n</code></pre>"},{"location":"guide/deployment/#security-recommendations","title":"Security Recommendations","text":""},{"location":"guide/deployment/#production-checklist","title":"Production Checklist","text":"<ol> <li>Secrets: Use 32+ character randomly generated secrets for <code>JWT_SECRET</code> and <code>AGENT_SECRET</code></li> <li>TLS: Always use HTTPS in production (Let's Encrypt or commercial cert)</li> <li>Firewall: Restrict access to port 8443</li> <li>Network: Isolate agents in a dedicated network/VLAN</li> <li>Logging: Enable centralized logging</li> <li>Updates: Keep Go, Rust, and dependencies updated</li> <li>Auth: Ensure <code>JWT_SECRET</code> is set (auth enabled)</li> <li>Agent Auth: Set <code>AGENT_SECRET</code> to authenticate agent connections</li> </ol>"},{"location":"guide/deployment/#firewall-rules","title":"Firewall Rules","text":"<pre><code># Allow HTTPS\nufw allow 8443/tcp\n\n# Restrict to specific IPs (optional)\nufw allow from 10.0.0.0/8 to any port 8443\n</code></pre>"},{"location":"guide/deployment/#port-requirements","title":"Port Requirements","text":"Port Direction Description 8443 Inbound API + WebSocket + Dashboard"},{"location":"guide/deployment/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/deployment/#agent-wont-connect","title":"Agent won't connect","text":"<ol> <li>Verify network connectivity:    <pre><code>curl -k https://server:8443/health\n</code></pre></li> <li>Check TLS certificates (use <code>--debug</code> flag)</li> <li>Check agent logs: <code>journalctl -u autostrike-agent -f</code></li> <li>If <code>AGENT_SECRET</code> is set, verify the agent passes <code>-k</code> with the correct secret</li> </ol>"},{"location":"guide/deployment/#error-401-unauthorized","title":"Error 401 Unauthorized","text":"<ol> <li>Verify JWT token is not expired</li> <li>Verify <code>JWT_SECRET</code> matches between token generation and server</li> <li>Check if auth is enabled (set <code>JWT_SECRET</code> in <code>.env</code>)</li> </ol>"},{"location":"guide/deployment/#error-429-too-many-requests","title":"Error 429 Too Many Requests","text":"<p>Rate limiting is active on authentication endpoints: - Login: 5 attempts/minute per IP - Token refresh: 10 attempts/minute per IP - Wait for the rate limit window to expire</p>"},{"location":"guide/deployment/#database-issues","title":"Database issues","text":"<pre><code># Check database file\nls -la server/data/autostrike.db\n\n# Reset database (WARNING: deletes all data)\nrm server/data/autostrike.db\nmake run  # Will create new database\n</code></pre>"},{"location":"guide/deployment/#websocket-connection-issues","title":"WebSocket connection issues","text":"<ol> <li>Check firewall allows WebSocket upgrade</li> <li>Verify no proxy is interfering with WebSocket</li> <li>Check server logs for connection errors</li> </ol>"},{"location":"guide/installation/","title":"Installation","text":""},{"location":"guide/installation/#prerequisites","title":"Prerequisites","text":""},{"location":"guide/installation/#server","title":"Server","text":"Component Minimum Version Recommended Go 1.24+ 1.24+ Node.js 18+ 20 LTS SQLite 3.35+ 3.40+ Docker 24+ (optional) 25+ Docker Compose 2.20+ (optional) 2.24+"},{"location":"guide/installation/#agent","title":"Agent","text":"OS Minimum Version Architecture Windows 10 (1809+) x64, ARM64 Linux Ubuntu 20.04+ / Debian 11+ x64, ARM64 macOS 12 (Monterey)+ x64, ARM64 <p>Required privileges: - Windows: Administrator rights (for certain techniques) - Linux: Root or sudo access (for certain techniques) - macOS: Administrator rights (for certain techniques)</p>"},{"location":"guide/installation/#server-installation","title":"Server Installation","text":""},{"location":"guide/installation/#option-1-quick-start-with-makefile","title":"Option 1: Quick Start with Makefile","text":"<pre><code># Clone the repository\ngit clone https://github.com/AutoStrike-EIP/AutoStrike_POC.git\ncd AutoStrike_POC\n\n# Install dependencies and build everything\nmake install\n\n# Start the server (serves dashboard + API on port 8443)\nmake run\n</code></pre> <p>The server starts on https://localhost:8443 and serves: - Dashboard (React SPA) - REST API (<code>/api/v1/*</code>) - WebSocket (<code>/ws/*</code>) - Health check (<code>/health</code>)</p>"},{"location":"guide/installation/#option-2-manual-installation","title":"Option 2: Manual Installation","text":""},{"location":"guide/installation/#1-clone-the-repository","title":"1. Clone the repository","text":"<pre><code>git clone https://github.com/AutoStrike-EIP/AutoStrike_POC.git\ncd AutoStrike_POC\n</code></pre>"},{"location":"guide/installation/#2-environment-configuration","title":"2. Environment Configuration","text":"<p>Create a <code>.env</code> file in the server directory:</p> <pre><code>cd server\ncp .env.example .env\nnano .env\n</code></pre> <p>Variables:</p> <pre><code># Database Configuration\nDATABASE_PATH=./data/autostrike.db\n\n# Dashboard Configuration (path to built dashboard)\nDASHBOARD_PATH=../dashboard/dist\n\n# JWT Configuration (optional - auth disabled if not set)\nJWT_SECRET=your-secure-jwt-secret-32-characters\n\n# Explicit auth override (optional)\nENABLE_AUTH=true\n\n# Agent Authentication (optional)\nAGENT_SECRET=your-secure-agent-secret\n\n# Default admin password (optional - random if not set)\nDEFAULT_ADMIN_PASSWORD=your-admin-password\n\n# CORS Origins\nALLOWED_ORIGINS=localhost:3000,localhost:8443\n\n# Log Level (debug, info, warn, error)\nLOG_LEVEL=info\n\n# SMTP Configuration (optional - for email notifications)\nSMTP_HOST=smtp.example.com\nSMTP_PORT=587\nSMTP_USERNAME=notifications@example.com\nSMTP_PASSWORD=smtp-password\nSMTP_FROM=noreply@example.com\nSMTP_USE_TLS=true\nDASHBOARD_URL=https://localhost:8443\n</code></pre> <p>Authentication</p> <p>Authentication is disabled by default when <code>JWT_SECRET</code> is not set. This is suitable for development. Set <code>JWT_SECRET</code> in production.</p>"},{"location":"guide/installation/#3-build-backend-go","title":"3. Build Backend (Go)","text":"<pre><code>cd server\ngo mod download\ngo build -o autostrike ./cmd/autostrike\n./autostrike\n</code></pre>"},{"location":"guide/installation/#4-build-frontend-react","title":"4. Build Frontend (React)","text":"<pre><code>cd dashboard\nnpm install\nnpm run build\n</code></pre> <p>The built dashboard is served by the Go server on port 8443.</p>"},{"location":"guide/installation/#option-3-docker-installation","title":"Option 3: Docker Installation","text":"<pre><code># Build and start containers\ndocker compose up -d\n\n# View logs\ndocker compose logs -f\n\n# Stop containers\ndocker compose down\n</code></pre>"},{"location":"guide/installation/#verify-installation","title":"Verify Installation","text":"<p>Test that the server responds:</p> <pre><code># Health check\ncurl -k https://localhost:8443/health\n\n# Expected response\n{\"status\": \"ok\", \"auth_enabled\": false}\n</code></pre>"},{"location":"guide/installation/#agent-installation","title":"Agent Installation","text":""},{"location":"guide/installation/#compile-from-source","title":"Compile from Source","text":""},{"location":"guide/installation/#prerequisites_1","title":"Prerequisites","text":"<ul> <li>Rust 1.75+ with Cargo</li> <li>OpenSSL development libraries (Linux)</li> </ul> <pre><code># Install Rust\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n\n# Build the agent\ncd agent\ncargo build --release\n\n# Executable is in target/release/autostrike-agent\n</code></pre>"},{"location":"guide/installation/#quick-start-makefile","title":"Quick Start (Makefile)","text":"<pre><code># From project root\nmake agent\n</code></pre> <p>This compiles and runs the agent, connecting to <code>https://localhost:8443</code>.</p>"},{"location":"guide/installation/#windows-powershell-admin","title":"Windows (PowerShell Admin)","text":"<pre><code># Navigate to agent directory\ncd agent\n\n# Build\ncargo build --release\n\n# Run the agent\n.\\target\\release\\autostrike-agent.exe --server https://server:8443 --paw \"agent-win-001\"\n\n# With agent authentication\n.\\target\\release\\autostrike-agent.exe --server https://server:8443 --paw \"agent-win-001\" -k \"your-agent-secret\"\n</code></pre>"},{"location":"guide/installation/#install-as-windows-service","title":"Install as Windows Service","text":"<pre><code># Create the service\nNew-Service -Name \"AutoStrike-Agent\" `\n  -BinaryPathName \"C:\\Path\\To\\autostrike-agent.exe --server https://server:8443\" `\n  -DisplayName \"AutoStrike Agent\" `\n  -StartupType Automatic\n\n# Start the service\nStart-Service -Name \"AutoStrike-Agent\"\n\n# Check status\nGet-Service -Name \"AutoStrike-Agent\"\n</code></pre>"},{"location":"guide/installation/#linux","title":"Linux","text":"<pre><code># Build\ncd agent\ncargo build --release\n\n# Run the agent\nsudo ./target/release/autostrike-agent --server https://server:8443 --paw \"agent-lin-001\"\n\n# With agent authentication\nsudo ./target/release/autostrike-agent --server https://server:8443 --paw \"agent-lin-001\" -k \"your-agent-secret\"\n</code></pre>"},{"location":"guide/installation/#install-as-systemd-service","title":"Install as systemd Service","text":"<p>Create <code>/etc/systemd/system/autostrike-agent.service</code>:</p> <pre><code>[Unit]\nDescription=AutoStrike Agent\nAfter=network.target\n\n[Service]\nType=simple\nUser=root\nWorkingDirectory=/opt/autostrike\nExecStart=/opt/autostrike/autostrike-agent --server https://server:8443\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Enable and start:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl enable autostrike-agent\nsudo systemctl start autostrike-agent\nsudo systemctl status autostrike-agent\n</code></pre>"},{"location":"guide/installation/#macos","title":"macOS","text":"<pre><code># Build\ncd agent\ncargo build --release\n\n# Run the agent\nsudo ./target/release/autostrike-agent --server https://server:8443 --paw \"agent-mac-001\"\n</code></pre>"},{"location":"guide/installation/#agent-cli-options","title":"Agent CLI Options","text":"Option Description Default <code>-s, --server</code> AutoStrike server URL <code>https://localhost:8443</code> <code>-p, --paw</code> Unique agent identifier Auto-generated UUID <code>-c, --config</code> Configuration file path <code>agent.yaml</code> <code>-d, --debug</code> Enable debug logging <code>false</code> <code>-k, --agent-secret</code> Agent authentication secret (<code>X-Agent-Key</code> header) -"},{"location":"guide/installation/#agent-configuration-file","title":"Agent Configuration File","text":"<p>Create <code>agent.yaml</code>:</p> <pre><code>server_url: \"https://server:8443\"\npaw: \"agent-001\"\nheartbeat_interval: 30  # seconds\nagent_secret: \"your-agent-secret\"  # optional\n\ntls:\n  cert_file: \"./certs/agent.crt\"  # optional\n  key_file: \"./certs/agent.key\"   # optional\n  ca_file: \"./certs/ca.crt\"       # optional\n  verify: true\n</code></pre>"},{"location":"guide/installation/#update","title":"Update","text":""},{"location":"guide/installation/#server_1","title":"Server","text":"<pre><code># Stop the server\nmake stop\n\n# Pull updates\ngit pull origin main\n\n# Rebuild and restart\nmake install\nmake run\n</code></pre>"},{"location":"guide/installation/#agent_1","title":"Agent","text":"<pre><code># Pull updates\ngit pull origin main\n\n# Rebuild\ncd agent\ncargo build --release\n\n# Restart service\nsudo systemctl restart autostrike-agent\n</code></pre>"},{"location":"guide/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/installation/#server-wont-start","title":"Server won't start","text":"<ol> <li> <p>Check environment variables:    <pre><code>cat server/.env\n</code></pre></p> </li> <li> <p>Check database file permissions:    <pre><code>ls -la server/data/\n</code></pre></p> </li> <li> <p>Check logs:    <pre><code>make logs\n</code></pre></p> </li> </ol>"},{"location":"guide/installation/#agent-wont-connect","title":"Agent won't connect","text":"<ol> <li> <p>Verify network connectivity:    <pre><code>curl -k https://server:8443/health\n</code></pre></p> </li> <li> <p>Check TLS certificate:    <pre><code>openssl s_client -connect server:8443\n</code></pre></p> </li> <li> <p>Check agent logs:    <pre><code>journalctl -u autostrike-agent -f\n</code></pre></p> </li> <li> <p>If <code>AGENT_SECRET</code> is set on the server, verify the agent passes <code>-k</code> with the correct secret</p> </li> </ol>"},{"location":"guide/installation/#connection-refused-error","title":"\"Connection refused\" error","text":"<ul> <li>Ensure the server is listening on the correct interface</li> <li>Check firewall rules</li> <li>Confirm port 8443 is open:   <pre><code>sudo netstat -tlnp | grep 8443\n</code></pre></li> </ul>"},{"location":"guide/installation/#advanced-configuration","title":"Advanced Configuration","text":"<p>See the following sections for more details:</p> <ul> <li>Backend Architecture</li> <li>Deployment Guide</li> <li>API Reference</li> </ul>"},{"location":"guide/quickstart/","title":"Quick Start Guide","text":"<p>This guide will help you run your first attack simulation in 5 minutes.</p>"},{"location":"guide/quickstart/#prerequisites","title":"Prerequisites","text":"Component Version Purpose Go 1.24+ Server compilation Node.js 18+ Dashboard build Rust 1.75+ Agent compilation"},{"location":"guide/quickstart/#1-installation","title":"1. Installation","text":"<pre><code># Clone the repository\ngit clone https://github.com/AutoStrike-EIP/AutoStrike_POC.git\ncd AutoStrike_POC\n\n# Install dependencies and build\nmake install\n</code></pre>"},{"location":"guide/quickstart/#2-start-autostrike","title":"2. Start AutoStrike","text":"<pre><code>make run\n</code></pre> <p>The server starts on https://localhost:8443 and serves:</p> Path Description <code>/</code> Dashboard (React SPA) <code>/api/v1/*</code> REST API <code>/ws/agent</code> WebSocket for agents <code>/ws/dashboard</code> WebSocket for real-time updates <code>/health</code> Health check endpoint <p>Authentication</p> <p>Authentication is disabled by default in development. To enable it, set <code>JWT_SECRET</code> in <code>server/.env</code>.</p>"},{"location":"guide/quickstart/#3-connect-an-agent","title":"3. Connect an Agent","text":"<p>Open a new terminal and run:</p> <pre><code>make agent\n</code></pre> <p>This compiles and runs the Rust agent, which will:</p> <ol> <li>Connect to <code>wss://localhost:8443/ws/agent</code></li> <li>Register with hostname, platform, and available executors</li> <li>Start sending heartbeats every 30 seconds</li> <li>Wait for tasks from the server</li> </ol> <p>Verify the agent is connected in the Agents page (status should be \"Online\").</p> <p>Agent Authentication</p> <p>If <code>AGENT_SECRET</code> is set on the server, pass it to the agent: <pre><code>cd agent &amp;&amp; cargo run --release -- -k \"your-agent-secret\"\n</code></pre></p>"},{"location":"guide/quickstart/#4-run-a-scenario","title":"4. Run a Scenario","text":"<ol> <li>Navigate to Scenarios in the dashboard</li> <li>Click Run on \"Discovery - Basic\" (or any available scenario)</li> <li>In the modal:</li> <li>Select target agents (checkboxes)</li> <li>Toggle Safe Mode (recommended for first run)</li> <li>Click Run Execution</li> </ol> <p>The execution will start and you'll be redirected to the Executions page.</p>"},{"location":"guide/quickstart/#5-monitor-execution","title":"5. Monitor Execution","text":"<p>The Executions page shows real-time progress:</p> Status Description Pending Execution created, waiting to start Running Techniques being executed on agents Completed All techniques finished Cancelled Execution stopped by user <p>Click on an execution row to see detailed results.</p>"},{"location":"guide/quickstart/#6-analyze-results","title":"6. Analyze Results","text":"<p>In Execution Details, each technique shows:</p> Status Meaning Score Impact Blocked Attack was prevented by security controls +100 points Detected Attack succeeded but was detected +50 points Success Attack succeeded undetected +0 points Failed Technique execution failed Not counted <p>Security Score Formula: <pre><code>Score = (blocked * 100 + detected * 50) / (total * 100) * 100%\n</code></pre></p> <p>Higher scores indicate better security posture.</p>"},{"location":"guide/quickstart/#7-explore-the-mitre-matrix","title":"7. Explore the MITRE Matrix","text":"<p>The ATT&amp;CK Matrix page provides a visual overview:</p> Color Meaning Green cell Techniques available and safe Red dot Technique is unsafe (use with caution) Click View technique details and detection info <p>Filter by platform (Windows/Linux) using the dropdown.</p>"},{"location":"guide/quickstart/#useful-commands","title":"Useful Commands","text":"Command Description <code>make run</code> Start the server <code>make agent</code> Connect a local agent <code>make stop</code> Stop all services <code>make logs</code> View server logs <code>make test</code> Run all tests <code>make build</code> Build all components"},{"location":"guide/quickstart/#available-techniques-48-total","title":"Available Techniques (48 total)","text":"<p>AutoStrike includes 48 MITRE ATT&amp;CK techniques across 13 tactics:</p>"},{"location":"guide/quickstart/#reconnaissance-2-techniques","title":"Reconnaissance (2 techniques)","text":"<ul> <li>T1592.004 - Gather Victim Host Information: Client Configurations</li> <li>T1595.002 - Active Scanning: Vulnerability Scanning</li> </ul>"},{"location":"guide/quickstart/#initial-access-3-techniques","title":"Initial Access (3 techniques)","text":"<ul> <li>T1078 - Valid Accounts</li> <li>T1133 - External Remote Services</li> <li>T1190 - Exploit Public-Facing Application</li> </ul>"},{"location":"guide/quickstart/#execution-5-techniques","title":"Execution (5 techniques)","text":"<ul> <li>T1059.001 - PowerShell</li> <li>T1059.003 - Windows Command Shell</li> <li>T1059.004 - Unix Shell</li> <li>T1047 - Windows Management Instrumentation</li> <li>T1059.006 - Python</li> </ul>"},{"location":"guide/quickstart/#persistence-4-techniques","title":"Persistence (4 techniques)","text":"<ul> <li>T1053.005 - Scheduled Task</li> <li>T1547.001 - Registry Run Keys</li> <li>T1053.003 - Cron</li> <li>T1543.002 - Systemd Service</li> </ul>"},{"location":"guide/quickstart/#privilege-escalation-4-techniques","title":"Privilege Escalation (4 techniques)","text":"<ul> <li>T1548.001 - Setuid and Setgid</li> <li>T1548.002 - Bypass User Account Control</li> <li>T1078.003 - Local Accounts</li> <li>T1134.001 - Token Impersonation/Theft</li> </ul>"},{"location":"guide/quickstart/#defense-evasion-6-techniques","title":"Defense Evasion (6 techniques)","text":"<ul> <li>T1070.004 - File Deletion</li> <li>T1562.001 - Disable or Modify Tools</li> <li>T1027 - Obfuscated Files or Information</li> <li>T1070.001 - Clear Windows Event Logs</li> <li>T1036.005 - Match Legitimate Name or Location</li> <li>T1218.011 - Rundll32</li> </ul>"},{"location":"guide/quickstart/#credential-access-4-techniques","title":"Credential Access (4 techniques)","text":"<ul> <li>T1552.001 - Credentials In Files</li> <li>T1555.003 - Credentials from Web Browsers</li> <li>T1003.008 - /etc/passwd and /etc/shadow</li> <li>T1552.004 - Private Keys</li> </ul>"},{"location":"guide/quickstart/#discovery-9-techniques","title":"Discovery (9 techniques)","text":"<ul> <li>T1082 - System Information Discovery</li> <li>T1083 - File and Directory Discovery</li> <li>T1057 - Process Discovery</li> <li>T1016 - System Network Configuration Discovery</li> <li>T1049 - System Network Connections Discovery</li> <li>T1087 - Account Discovery</li> <li>T1069 - Permission Groups Discovery</li> <li>T1018 - Remote System Discovery</li> <li>T1007 - System Service Discovery</li> </ul>"},{"location":"guide/quickstart/#lateral-movement-3-techniques","title":"Lateral Movement (3 techniques)","text":"<ul> <li>T1021.001 - Remote Desktop Protocol</li> <li>T1021.002 - SMB/Windows Admin Shares</li> <li>T1021.004 - SSH</li> </ul>"},{"location":"guide/quickstart/#collection-4-techniques","title":"Collection (4 techniques)","text":"<ul> <li>T1005 - Data from Local System</li> <li>T1039 - Data from Network Shared Drive</li> <li>T1074.001 - Local Data Staging</li> <li>T1119 - Automated Collection</li> </ul>"},{"location":"guide/quickstart/#command-and-control-3-techniques","title":"Command and Control (3 techniques)","text":"<ul> <li>T1071.001 - Web Protocols</li> <li>T1105 - Ingress Tool Transfer</li> <li>T1572 - Protocol Tunneling</li> </ul>"},{"location":"guide/quickstart/#exfiltration-3-techniques","title":"Exfiltration (3 techniques)","text":"<ul> <li>T1048.003 - Exfiltration Over Unencrypted Non-C2 Protocol</li> <li>T1041 - Exfiltration Over C2 Channel</li> <li>T1567.002 - Exfiltration to Cloud Storage</li> </ul>"},{"location":"guide/quickstart/#impact-3-techniques","title":"Impact (3 techniques)","text":"<ul> <li>T1490 - Inhibit System Recovery</li> <li>T1489 - Service Stop</li> <li>T1486 - Data Encrypted for Impact</li> </ul> <p>All techniques support Safe Mode for production-safe testing.</p>"},{"location":"guide/quickstart/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/quickstart/#agent-wont-connect","title":"Agent won't connect","text":"<ol> <li>Check server is running: <code>curl -k https://localhost:8443/health</code></li> <li>Verify WebSocket endpoint: <code>wss://localhost:8443/ws/agent</code></li> <li>Check agent logs for connection errors</li> <li>Ensure no firewall blocking port 8443</li> <li>If <code>AGENT_SECRET</code> is set, verify the agent passes <code>-k</code> with the correct secret</li> </ol>"},{"location":"guide/quickstart/#execution-stuck-in-running","title":"Execution stuck in \"Running\"","text":"<ol> <li>Check if agent is still online in Agents page</li> <li>Agent may have disconnected - reconnect with <code>make agent</code></li> <li>Click Stop to cancel the execution</li> </ol>"},{"location":"guide/quickstart/#dashboard-not-loading","title":"Dashboard not loading","text":"<ol> <li>Verify server is running on port 8443</li> <li>Clear browser cache</li> <li>Check browser console for errors</li> <li>Try incognito/private window</li> </ol>"},{"location":"guide/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Create a custom scenario</li> <li>API Reference</li> <li>Architecture Overview</li> <li>Deployment Guide</li> </ul>"},{"location":"mitre/","title":"MITRE ATT&amp;CK","text":"<p>AutoStrike utilise le framework MITRE ATT&amp;CK pour structurer les techniques d'attaque.</p>"},{"location":"mitre/#quest-ce-que-mitre-attck","title":"Qu'est-ce que MITRE ATT&amp;CK ?","text":"<p>MITRE ATT&amp;CK (Adversarial Tactics, Techniques, and Common Knowledge) est une base de connaissances des tactiques et techniques utilisees par les attaquants.</p>"},{"location":"mitre/#tactiques-implementees","title":"Tactiques implementees","text":"<p>AutoStrike implemente actuellement 13 tactiques avec 48 techniques :</p> ID Tactique Techniques Description TA0043 Reconnaissance 2 Collecte d'informations sur la cible TA0001 Initial Access 3 Acces initial au reseau TA0002 Execution 5 Execution de commandes via shells TA0003 Persistence 4 Maintien de l'acces TA0004 Privilege Escalation 4 Elevation de privileges TA0005 Defense Evasion 6 Contournement des defenses TA0006 Credential Access 4 Vol d'identifiants TA0007 Discovery 9 Reconnaissance interne du systeme et reseau TA0008 Lateral Movement 3 Deplacement lateral dans le reseau TA0009 Collection 4 Collecte de donnees sur la cible TA0011 Command and Control 3 Communication avec les systemes compromis TA0010 Exfiltration 3 Exfiltration de donnees TA0040 Impact 3 Manipulation ou destruction de systemes"},{"location":"mitre/#techniques-par-tactique","title":"Techniques par tactique","text":""},{"location":"mitre/#reconnaissance-2-techniques","title":"Reconnaissance (2 techniques)","text":"ID Nom T1592.004 Gather Victim Host Information: Client Configurations T1595.002 Active Scanning: Vulnerability Scanning"},{"location":"mitre/#initial-access-3-techniques","title":"Initial Access (3 techniques)","text":"ID Nom T1078 Valid Accounts T1133 External Remote Services T1190 Exploit Public-Facing Application"},{"location":"mitre/#execution-5-techniques","title":"Execution (5 techniques)","text":"ID Nom T1059.001 PowerShell T1059.003 Windows Command Shell T1059.004 Unix Shell T1047 Windows Management Instrumentation T1059.006 Python"},{"location":"mitre/#persistence-4-techniques","title":"Persistence (4 techniques)","text":"ID Nom T1053.005 Scheduled Task T1547.001 Registry Run Keys T1053.003 Cron T1543.002 Systemd Service"},{"location":"mitre/#privilege-escalation-4-techniques","title":"Privilege Escalation (4 techniques)","text":"ID Nom T1548.001 Setuid and Setgid T1548.002 Bypass User Account Control T1078.003 Local Accounts T1134.001 Token Impersonation/Theft"},{"location":"mitre/#defense-evasion-6-techniques","title":"Defense Evasion (6 techniques)","text":"ID Nom T1070.004 File Deletion T1562.001 Disable or Modify Tools T1027 Obfuscated Files or Information T1070.001 Clear Windows Event Logs T1036.005 Match Legitimate Name or Location T1218.011 Rundll32"},{"location":"mitre/#credential-access-4-techniques","title":"Credential Access (4 techniques)","text":"ID Nom T1552.001 Credentials In Files T1555.003 Credentials from Web Browsers T1003.008 /etc/passwd and /etc/shadow T1552.004 Private Keys"},{"location":"mitre/#discovery-9-techniques","title":"Discovery (9 techniques)","text":"ID Nom T1082 System Information Discovery T1083 File and Directory Discovery T1057 Process Discovery T1016 System Network Configuration Discovery T1049 System Network Connections Discovery T1087 Account Discovery T1069 Permission Groups Discovery T1018 Remote System Discovery T1007 System Service Discovery"},{"location":"mitre/#lateral-movement-3-techniques","title":"Lateral Movement (3 techniques)","text":"ID Nom T1021.001 Remote Desktop Protocol T1021.002 SMB/Windows Admin Shares T1021.004 SSH"},{"location":"mitre/#collection-4-techniques","title":"Collection (4 techniques)","text":"ID Nom T1005 Data from Local System T1039 Data from Network Shared Drive T1074.001 Local Data Staging T1119 Automated Collection"},{"location":"mitre/#command-and-control-3-techniques","title":"Command and Control (3 techniques)","text":"ID Nom T1071.001 Web Protocols T1105 Ingress Tool Transfer T1572 Protocol Tunneling"},{"location":"mitre/#exfiltration-3-techniques","title":"Exfiltration (3 techniques)","text":"ID Nom T1048.003 Exfiltration Over Unencrypted Non-C2 Protocol T1041 Exfiltration Over C2 Channel T1567.002 Exfiltration to Cloud Storage"},{"location":"mitre/#impact-3-techniques","title":"Impact (3 techniques)","text":"ID Nom T1490 Inhibit System Recovery T1489 Service Stop T1486 Data Encrypted for Impact"},{"location":"mitre/#safe-mode","title":"Safe Mode","text":"<p>Toutes les techniques sont Safe Mode compatible (non-destructives). Elles se limitent a : - Lecture d'informations systeme - Requetes read-only (registry, services, processes) - Simulations sans modification - Enumeration et detection</p>"},{"location":"mitre/#voir-aussi","title":"Voir aussi","text":"<ul> <li>Liste detaillee des techniques</li> <li>MITRE ATT&amp;CK Official</li> </ul>"},{"location":"mitre/techniques/","title":"MITRE ATT&amp;CK Techniques","text":"<p>AutoStrike implements 48 MITRE ATT&amp;CK techniques across 13 tactics.</p>"},{"location":"mitre/techniques/#overview","title":"Overview","text":"Tactic Count Description Reconnaissance 2 Information gathering about the target Initial Access 3 Gaining initial access to the network Execution 5 Running commands via shells and interpreters Persistence 4 Maintaining access to the system Privilege Escalation 4 Gaining higher permissions Defense Evasion 6 Avoiding detection by security tools Credential Access 4 Stealing credentials and secrets Discovery 9 Information gathering about the system and network Lateral Movement 3 Moving through the network Collection 4 Gathering target data Command and Control 3 Communicating with compromised systems Exfiltration 3 Stealing data from the target Impact 3 Manipulating or destroying systems <p>All techniques are Safe Mode compatible (non-destructive).</p>"},{"location":"mitre/techniques/#reconnaissance-2-techniques","title":"Reconnaissance (2 techniques)","text":""},{"location":"mitre/techniques/#t1592004-gather-victim-host-information-client-configurations","title":"T1592.004 - Gather Victim Host Information: Client Configurations","text":"<p>Enumerates client software configurations.</p> WindowsLinux <pre><code>systeminfo | findstr /B /C:\"OS Name\" /C:\"OS Version\" /C:\"System Type\"\n</code></pre> <pre><code>cat /etc/os-release &amp;&amp; uname -m\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (systeminfo.exe, cat)</p>"},{"location":"mitre/techniques/#t1595002-active-scanning-vulnerability-scanning","title":"T1595.002 - Active Scanning: Vulnerability Scanning","text":"<p>Simulates vulnerability scanning by checking for common service ports.</p> WindowsLinux <pre><code>netstat -an | findstr \"LISTENING\"\n</code></pre> <pre><code>ss -tlnp 2&gt;/dev/null || netstat -tlnp 2&gt;/dev/null\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Network Connection, Process Creation</p>"},{"location":"mitre/techniques/#initial-access-3-techniques","title":"Initial Access (3 techniques)","text":""},{"location":"mitre/techniques/#t1078-valid-accounts","title":"T1078 - Valid Accounts","text":"<p>Enumerates valid accounts that could be used for initial access.</p> WindowsLinux <pre><code>net user &amp;&amp; net localgroup administrators\n</code></pre> <pre><code>cat /etc/passwd | grep -v nologin | grep -v false\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (enumeration only) Detection: Process Creation (net.exe, cat)</p>"},{"location":"mitre/techniques/#t1133-external-remote-services","title":"T1133 - External Remote Services","text":"<p>Checks for external remote services (RDP, SSH, VNC).</p> WindowsLinux <pre><code>netstat -an | findstr \":3389 :22 :5900\"\n</code></pre> <pre><code>ss -tlnp | grep -E \":(22|3389|5900)\\s\"\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (enumeration only) Detection: Process Creation, Network Connection</p>"},{"location":"mitre/techniques/#t1190-exploit-public-facing-application","title":"T1190 - Exploit Public-Facing Application","text":"<p>Enumerates public-facing services and their versions.</p> WindowsLinux <pre><code>netstat -ano | findstr \"LISTENING\"\n</code></pre> <pre><code>ss -tlnp\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (enumeration only) Detection: Process Creation</p>"},{"location":"mitre/techniques/#execution-5-techniques","title":"Execution (5 techniques)","text":""},{"location":"mitre/techniques/#t1059001-powershell","title":"T1059.001 - PowerShell","text":"<p>Executes PowerShell commands.</p> <pre><code>Get-Process | Select-Object -First 5\n</code></pre> <p>Platforms: Windows Safe: Yes (current command) Detection: Process Creation (powershell.exe), Script Block Logging</p>"},{"location":"mitre/techniques/#t1059003-windows-command-shell","title":"T1059.003 - Windows Command Shell","text":"<p>Executes Windows CMD commands.</p> <pre><code>echo %USERNAME% &amp;&amp; echo %COMPUTERNAME%\n</code></pre> <p>Platforms: Windows Safe: Yes Detection: Process Creation (cmd.exe)</p>"},{"location":"mitre/techniques/#t1059004-unix-shell","title":"T1059.004 - Unix Shell","text":"<p>Executes Unix shell commands.</p> Bashsh <pre><code>echo $USER &amp;&amp; hostname\n</code></pre> <pre><code>echo $USER &amp;&amp; hostname\n</code></pre> <p>Platforms: Linux Safe: Yes Detection: Process Creation (bash, sh)</p>"},{"location":"mitre/techniques/#t1047-windows-management-instrumentation","title":"T1047 - Windows Management Instrumentation","text":"<p>Enumerates system information via WMI.</p> <pre><code>wmic os get caption,version,buildnumber /format:list\n</code></pre> <p>Platforms: Windows Safe: Yes (read-only WMI query) Detection: Process Creation (wmic.exe), WMI Activity</p>"},{"location":"mitre/techniques/#t1059006-python","title":"T1059.006 - Python","text":"<p>Executes Python commands for system enumeration.</p> WindowsLinux <pre><code>python -c \"import platform; print(platform.platform())\"\n</code></pre> <pre><code>python3 -c \"import platform; print(platform.platform())\"\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (python.exe, python3)</p>"},{"location":"mitre/techniques/#persistence-4-techniques","title":"Persistence (4 techniques)","text":""},{"location":"mitre/techniques/#t1053005-scheduled-task","title":"T1053.005 - Scheduled Task","text":"<p>Queries scheduled tasks.</p> <pre><code>schtasks /query /fo LIST\n</code></pre> <p>Platforms: Windows Safe: Yes (query only, doesn't create tasks) Detection: Process Creation (schtasks.exe)</p>"},{"location":"mitre/techniques/#t1547001-registry-run-keys-startup-folder","title":"T1547.001 - Registry Run Keys / Startup Folder","text":"<p>Queries registry Run keys for persistence mechanisms.</p> CMDPowerShell <pre><code>reg query HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Run\n</code></pre> <pre><code>Get-ItemProperty -Path 'HKCU:\\Software\\Microsoft\\Windows\\CurrentVersion\\Run'\n</code></pre> <p>Platforms: Windows Safe: Yes (query only, doesn't modify registry) Detection: Process Creation (reg.exe), Registry access</p>"},{"location":"mitre/techniques/#t1053003-cron","title":"T1053.003 - Cron","text":"<p>Enumerates cron jobs for persistence detection.</p> <pre><code>crontab -l 2&gt;/dev/null; ls -la /etc/cron* 2&gt;/dev/null\n</code></pre> <p>Platforms: Linux Safe: Yes (read-only) Detection: Process Creation (crontab), File Access</p>"},{"location":"mitre/techniques/#t1543002-systemd-service","title":"T1543.002 - Systemd Service","text":"<p>Enumerates systemd services for persistence detection.</p> <pre><code>systemctl list-unit-files --type=service --state=enabled\n</code></pre> <p>Platforms: Linux Safe: Yes (read-only) Detection: Process Creation (systemctl)</p>"},{"location":"mitre/techniques/#privilege-escalation-4-techniques","title":"Privilege Escalation (4 techniques)","text":""},{"location":"mitre/techniques/#t1548001-setuid-and-setgid","title":"T1548.001 - Setuid and Setgid","text":"<p>Searches for SUID/SGID binaries that could be exploited.</p> <pre><code>find / -perm -4000 -type f 2&gt;/dev/null | head -20\n</code></pre> <p>Platforms: Linux Safe: Yes (read-only search) Detection: Process Creation (find), File Access</p>"},{"location":"mitre/techniques/#t1548002-bypass-user-account-control","title":"T1548.002 - Bypass User Account Control","text":"<p>Checks UAC configuration status.</p> <pre><code>reg query HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System /v EnableLUA\n</code></pre> <p>Platforms: Windows Safe: Yes (read-only) Detection: Process Creation (reg.exe), Registry Access</p>"},{"location":"mitre/techniques/#t1078003-local-accounts","title":"T1078.003 - Local Accounts","text":"<p>Enumerates local accounts with elevated privileges.</p> WindowsLinux <pre><code>net localgroup administrators\n</code></pre> <pre><code>grep -E \"^(root|sudo)\" /etc/group\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (enumeration only) Detection: Process Creation (net.exe, grep)</p>"},{"location":"mitre/techniques/#t1134001-token-impersonationtheft","title":"T1134.001 - Token Impersonation/Theft","text":"<p>Enumerates process tokens and privileges.</p> <pre><code>whoami /priv\n</code></pre> <p>Platforms: Windows Safe: Yes (read-only) Detection: Process Creation (whoami.exe)</p>"},{"location":"mitre/techniques/#defense-evasion-6-techniques","title":"Defense Evasion (6 techniques)","text":""},{"location":"mitre/techniques/#t1070004-file-deletion","title":"T1070.004 - File Deletion","text":"<p>Simulates file deletion (safe mode only echoes).</p> WindowsLinux <pre><code>echo Test file deletion simulation\n</code></pre> <pre><code>echo Test file deletion simulation\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (simulation only) Detection: File System events, Process Creation</p>"},{"location":"mitre/techniques/#t1562001-disable-or-modify-tools","title":"T1562.001 - Disable or Modify Tools","text":"<p>Checks security tool status without disabling them.</p> WindowsLinux <pre><code>sc query WinDefend\n</code></pre> <pre><code>systemctl status apparmor 2&gt;/dev/null || systemctl status selinux 2&gt;/dev/null\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (query only) Detection: Process Creation, Service Query</p>"},{"location":"mitre/techniques/#t1027-obfuscated-files-or-information","title":"T1027 - Obfuscated Files or Information","text":"<p>Demonstrates obfuscation detection by encoding/decoding a test string.</p> WindowsLinux <pre><code>[Convert]::ToBase64String([Text.Encoding]::UTF8.GetBytes(\"AutoStrike-Test\"))\n</code></pre> <pre><code>echo \"AutoStrike-Test\" | base64\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (harmless encoding) Detection: Script Block Logging, Process Creation</p>"},{"location":"mitre/techniques/#t1070001-clear-windows-event-logs","title":"T1070.001 - Clear Windows Event Logs","text":"<p>Queries event log sizes without clearing them.</p> <pre><code>wevtutil gli Security\n</code></pre> <p>Platforms: Windows Safe: Yes (read-only query) Detection: Process Creation (wevtutil.exe)</p>"},{"location":"mitre/techniques/#t1036005-match-legitimate-name-or-location","title":"T1036.005 - Match Legitimate Name or Location","text":"<p>Checks for processes running from unusual locations.</p> WindowsLinux <pre><code>wmic process get name,executablepath /format:csv\n</code></pre> <pre><code>ps aux --sort=-%mem | head -20\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (read-only) Detection: Process Creation</p>"},{"location":"mitre/techniques/#t1218011-rundll32","title":"T1218.011 - Rundll32","text":"<p>Enumerates Rundll32 usage patterns.</p> <pre><code>tasklist /FI \"IMAGENAME eq rundll32.exe\"\n</code></pre> <p>Platforms: Windows Safe: Yes (query only) Detection: Process Creation (tasklist.exe)</p>"},{"location":"mitre/techniques/#credential-access-4-techniques","title":"Credential Access (4 techniques)","text":""},{"location":"mitre/techniques/#t1552001-credentials-in-files","title":"T1552.001 - Credentials In Files","text":"<p>Searches for files that may contain credentials.</p> WindowsLinux <pre><code>dir /s /b C:\\Users\\*.txt C:\\Users\\*.ini C:\\Users\\*.cfg 2&gt;nul | findstr /i \"pass config cred\"\n</code></pre> <pre><code>find /home -name \"*.conf\" -o -name \"*.cfg\" -o -name \"*.ini\" 2&gt;/dev/null | head -20\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (file search only, no reading) Detection: Process Creation, File Access</p>"},{"location":"mitre/techniques/#t1555003-credentials-from-web-browsers","title":"T1555.003 - Credentials from Web Browsers","text":"<p>Checks for browser credential storage locations.</p> WindowsLinux <pre><code>dir \"%LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Login Data\" 2&gt;nul\n</code></pre> <pre><code>ls -la ~/.config/google-chrome/Default/Login\\ Data 2&gt;/dev/null\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (existence check only) Detection: File Access</p>"},{"location":"mitre/techniques/#t1003008-etcpasswd-and-etcshadow","title":"T1003.008 - /etc/passwd and /etc/shadow","text":"<p>Reads password file information (non-sensitive parts).</p> <pre><code>cat /etc/passwd | cut -d: -f1,3,6,7\n</code></pre> <p>Platforms: Linux Safe: Yes (reads public passwd info only) Detection: Process Creation (cat), File Access</p>"},{"location":"mitre/techniques/#t1552004-private-keys","title":"T1552.004 - Private Keys","text":"<p>Searches for private key files.</p> WindowsLinux <pre><code>dir /s /b C:\\Users\\*.pem C:\\Users\\*.key C:\\Users\\*.ppk 2&gt;nul\n</code></pre> <pre><code>find /home -name \"*.pem\" -o -name \"*.key\" -o -name \"id_rsa\" 2&gt;/dev/null | head -20\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (file search only, no reading) Detection: Process Creation, File Access</p>"},{"location":"mitre/techniques/#discovery-9-techniques","title":"Discovery (9 techniques)","text":""},{"location":"mitre/techniques/#t1082-system-information-discovery","title":"T1082 - System Information Discovery","text":"<p>Collects information about the operating system and hardware.</p> WindowsLinux <pre><code>systeminfo\n</code></pre> <pre><code>uname -a &amp;&amp; cat /etc/os-release\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (systeminfo.exe, uname)</p>"},{"location":"mitre/techniques/#t1083-file-and-directory-discovery","title":"T1083 - File and Directory Discovery","text":"<p>Enumerates files and directories.</p> WindowsLinux <pre><code>dir C:\\Users\n</code></pre> <pre><code>ls -la /home\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (dir.exe, ls)</p>"},{"location":"mitre/techniques/#t1057-process-discovery","title":"T1057 - Process Discovery","text":"<p>Lists running processes.</p> WindowsLinux <pre><code>tasklist\n</code></pre> <pre><code>ps aux\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (tasklist.exe, ps)</p>"},{"location":"mitre/techniques/#t1016-system-network-configuration-discovery","title":"T1016 - System Network Configuration Discovery","text":"<p>Gathers network configuration information.</p> WindowsLinux <pre><code>ipconfig /all\n</code></pre> <pre><code>ip addr &amp;&amp; cat /etc/resolv.conf\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (ipconfig.exe, ip)</p>"},{"location":"mitre/techniques/#t1049-system-network-connections-discovery","title":"T1049 - System Network Connections Discovery","text":"<p>Lists active network connections.</p> WindowsLinux <pre><code>netstat -ano\n</code></pre> <pre><code>netstat -tunap || ss -tunap\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (netstat.exe, ss)</p>"},{"location":"mitre/techniques/#t1087-account-discovery","title":"T1087 - Account Discovery","text":"<p>Enumerates user accounts.</p> WindowsLinux <pre><code>net user\n</code></pre> <pre><code>cat /etc/passwd | cut -d: -f1\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (net.exe, cat)</p>"},{"location":"mitre/techniques/#t1069-permission-groups-discovery","title":"T1069 - Permission Groups Discovery","text":"<p>Enumerates permission groups.</p> WindowsLinux <pre><code>net localgroup\n</code></pre> <pre><code>cat /etc/group\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (net.exe, cat)</p>"},{"location":"mitre/techniques/#t1018-remote-system-discovery","title":"T1018 - Remote System Discovery","text":"<p>Discovers remote systems on the network.</p> WindowsLinux <pre><code>net view\n</code></pre> <pre><code>arp -a\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (net.exe, arp)</p>"},{"location":"mitre/techniques/#t1007-system-service-discovery","title":"T1007 - System Service Discovery","text":"<p>Lists running services.</p> WindowsLinux <pre><code>sc query\n</code></pre> <pre><code>systemctl list-units --type=service --state=running\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes Detection: Process Creation (sc.exe, systemctl)</p>"},{"location":"mitre/techniques/#lateral-movement-3-techniques","title":"Lateral Movement (3 techniques)","text":""},{"location":"mitre/techniques/#t1021001-remote-desktop-protocol","title":"T1021.001 - Remote Desktop Protocol","text":"<p>Checks for RDP availability and configuration.</p> <pre><code>reg query \"HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\" /v fDenyTSConnections\n</code></pre> <p>Platforms: Windows Safe: Yes (read-only query) Detection: Process Creation (reg.exe), Registry Access</p>"},{"location":"mitre/techniques/#t1021002-smbwindows-admin-shares","title":"T1021.002 - SMB/Windows Admin Shares","text":"<p>Enumerates SMB shares.</p> WindowsLinux <pre><code>net share\n</code></pre> <pre><code>smbclient -L localhost -N 2&gt;/dev/null || echo \"SMB not available\"\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (enumeration only) Detection: Process Creation, Network Connection</p>"},{"location":"mitre/techniques/#t1021004-ssh","title":"T1021.004 - SSH","text":"<p>Checks for SSH availability and configuration.</p> WindowsLinux <pre><code>sc query sshd 2&gt;nul || echo SSH service not found\n</code></pre> <pre><code>systemctl status sshd 2&gt;/dev/null || systemctl status ssh 2&gt;/dev/null\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (status check only) Detection: Process Creation, Service Query</p>"},{"location":"mitre/techniques/#collection-4-techniques","title":"Collection (4 techniques)","text":""},{"location":"mitre/techniques/#t1005-data-from-local-system","title":"T1005 - Data from Local System","text":"<p>Enumerates files of interest on the local system.</p> WindowsLinux <pre><code>dir /s /b C:\\Users\\*.docx C:\\Users\\*.xlsx C:\\Users\\*.pdf 2&gt;nul | findstr /v \"AppData\"\n</code></pre> <pre><code>find /home -name \"*.pdf\" -o -name \"*.docx\" -o -name \"*.xlsx\" 2&gt;/dev/null | head -20\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (file listing only) Detection: Process Creation, File Access</p>"},{"location":"mitre/techniques/#t1039-data-from-network-shared-drive","title":"T1039 - Data from Network Shared Drive","text":"<p>Enumerates network shared drives.</p> WindowsLinux <pre><code>net use\n</code></pre> <pre><code>mount | grep -E \"(cifs|nfs|smb)\"\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (enumeration only) Detection: Process Creation</p>"},{"location":"mitre/techniques/#t1074001-local-data-staging","title":"T1074.001 - Local Data Staging","text":"<p>Checks for common staging directories.</p> WindowsLinux <pre><code>dir %TEMP% /O-D /T:W\n</code></pre> <pre><code>ls -lt /tmp/ | head -20\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (read-only) Detection: Process Creation, File Access</p>"},{"location":"mitre/techniques/#t1119-automated-collection","title":"T1119 - Automated Collection","text":"<p>Simulates automated file collection by listing recent files.</p> WindowsLinux <pre><code>forfiles /P C:\\Users /S /D -7 /C \"cmd /c echo @path @fdate\" 2&gt;nul | findstr /i \".doc .xls .pdf\"\n</code></pre> <pre><code>find /home -mtime -7 -name \"*.pdf\" -o -name \"*.doc\" -o -name \"*.xls\" 2&gt;/dev/null | head -20\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (file listing only) Detection: Process Creation, File Access</p>"},{"location":"mitre/techniques/#command-and-control-3-techniques","title":"Command and Control (3 techniques)","text":""},{"location":"mitre/techniques/#t1071001-web-protocols","title":"T1071.001 - Web Protocols","text":"<p>Tests HTTP/HTTPS connectivity to external services.</p> WindowsLinux <pre><code>(Invoke-WebRequest -Uri \"https://www.google.com\" -UseBasicParsing -TimeoutSec 5).StatusCode\n</code></pre> <pre><code>curl -s -o /dev/null -w \"%{http_code}\" https://www.google.com --connect-timeout 5\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (connectivity check only) Detection: Network Connection, DNS Resolution</p>"},{"location":"mitre/techniques/#t1105-ingress-tool-transfer","title":"T1105 - Ingress Tool Transfer","text":"<p>Checks download capabilities without actually downloading malicious content.</p> WindowsLinux <pre><code>[Net.ServicePointManager]::SecurityProtocol; Write-Output \"Download capabilities available\"\n</code></pre> <pre><code>which wget curl 2&gt;/dev/null &amp;&amp; echo \"Download tools available\"\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (capability check only) Detection: Process Creation</p>"},{"location":"mitre/techniques/#t1572-protocol-tunneling","title":"T1572 - Protocol Tunneling","text":"<p>Checks for tunneling tools availability.</p> WindowsLinux <pre><code>netsh interface portproxy show all\n</code></pre> <pre><code>which ssh socat ncat 2&gt;/dev/null; ss -tlnp | grep -E \":(1080|8080|3128)\"\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (enumeration only) Detection: Process Creation, Network Connection</p>"},{"location":"mitre/techniques/#exfiltration-3-techniques","title":"Exfiltration (3 techniques)","text":""},{"location":"mitre/techniques/#t1048003-exfiltration-over-unencrypted-non-c2-protocol","title":"T1048.003 - Exfiltration Over Unencrypted Non-C2 Protocol","text":"<p>Checks for common exfiltration channels (DNS, HTTP).</p> WindowsLinux <pre><code>nslookup test.example.com 2&gt;nul &amp;&amp; echo \"DNS resolution available\"\n</code></pre> <pre><code>dig +short test.example.com 2&gt;/dev/null || nslookup test.example.com 2&gt;/dev/null\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (DNS query only) Detection: DNS Resolution, Network Connection</p>"},{"location":"mitre/techniques/#t1041-exfiltration-over-c2-channel","title":"T1041 - Exfiltration Over C2 Channel","text":"<p>Checks outbound connectivity that could be used for exfiltration.</p> WindowsLinux <pre><code>Test-NetConnection -ComputerName \"8.8.8.8\" -Port 443 -InformationLevel Quiet\n</code></pre> <pre><code>timeout 5 bash -c \"echo &gt;/dev/tcp/8.8.8.8/443\" 2&gt;/dev/null &amp;&amp; echo \"Port 443 reachable\"\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (connectivity test only) Detection: Network Connection</p>"},{"location":"mitre/techniques/#t1567002-exfiltration-to-cloud-storage","title":"T1567.002 - Exfiltration to Cloud Storage","text":"<p>Checks for cloud storage CLI tools that could be used for exfiltration.</p> WindowsLinux <pre><code>where rclone aws gsutil 2&gt;nul\n</code></pre> <pre><code>which rclone aws gsutil 2&gt;/dev/null\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (tool detection only) Detection: Process Creation</p>"},{"location":"mitre/techniques/#impact-3-techniques","title":"Impact (3 techniques)","text":""},{"location":"mitre/techniques/#t1490-inhibit-system-recovery","title":"T1490 - Inhibit System Recovery","text":"<p>Checks system recovery configuration status.</p> WindowsLinux <pre><code>vssadmin list shadows\n</code></pre> <pre><code>ls -la /boot/grub/ 2&gt;/dev/null; cat /proc/cmdline\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (read-only query) Detection: Process Creation (vssadmin.exe)</p>"},{"location":"mitre/techniques/#t1489-service-stop","title":"T1489 - Service Stop","text":"<p>Lists critical services without stopping them.</p> WindowsLinux <pre><code>sc query type= service state= all | findstr /i \"SERVICE_NAME DISPLAY_NAME STATE\"\n</code></pre> <pre><code>systemctl list-units --type=service --state=running --no-pager\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (listing only, no services stopped) Detection: Process Creation, Service Query</p>"},{"location":"mitre/techniques/#t1486-data-encrypted-for-impact","title":"T1486 - Data Encrypted for Impact","text":"<p>Simulates ransomware detection by checking encryption capabilities.</p> WindowsLinux <pre><code>Get-Command -Name *crypt* -ErrorAction SilentlyContinue | Select-Object Name\n</code></pre> <pre><code>which openssl gpg 2&gt;/dev/null &amp;&amp; echo \"Encryption tools available\"\n</code></pre> <p>Platforms: Windows, Linux Safe: Yes (capability check only, no encryption performed) Detection: Process Creation</p>"},{"location":"mitre/techniques/#adding-custom-techniques","title":"Adding Custom Techniques","text":"<p>Techniques are defined in YAML files under <code>server/configs/techniques/</code>:</p> <pre><code># server/configs/techniques/custom.yaml\ntechniques:\n  - id: T1234\n    name: Custom Technique\n    description: Description of the technique\n    tactic: discovery\n    platforms:\n      - windows\n      - linux\n    is_safe: true\n    executors:\n      - type: cmd\n        platform: windows\n        command: \"echo Hello\"\n        cleanup: \"\"\n        timeout: 60\n      - type: bash\n        platform: linux\n        command: \"echo Hello\"\n        cleanup: \"\"\n        timeout: 60\n    detection:\n      - source: Process Creation\n        indicator: echo execution\n</code></pre>"},{"location":"mitre/techniques/#yaml-structure","title":"YAML Structure","text":"Field Type Description <code>id</code> string MITRE ATT&amp;CK ID (e.g., T1082) <code>name</code> string Technique name <code>description</code> string Detailed description <code>tactic</code> string MITRE tactic (discovery, execution, etc.) <code>platforms</code> array Supported platforms (windows, linux, darwin) <code>is_safe</code> boolean Safe for production testing <code>executors</code> array Command definitions per platform <code>detection</code> array Expected detection indicators"},{"location":"mitre/techniques/#import-techniques","title":"Import Techniques","text":"<pre><code># Via API (YAML file on server)\ncurl -X POST https://localhost:8443/api/v1/techniques/import \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"path\": \"/path/to/techniques.yaml\"}'\n\n# Via API (JSON array directly)\ncurl -X POST https://localhost:8443/api/v1/techniques/import/json \\\n  -H \"Content-Type: application/json\" \\\n  -d '[{\"id\": \"T1234\", \"name\": \"Custom\", ...}]'\n</code></pre> <p>Techniques in <code>server/configs/techniques/</code> are auto-imported at server startup.</p>"},{"location":"mitre/techniques/#technique-locations","title":"Technique Locations","text":"File Tactic Count <code>reconnaissance.yaml</code> Reconnaissance 2 <code>initial-access.yaml</code> Initial Access 3 <code>execution.yaml</code> Execution 5 <code>persistence.yaml</code> Persistence 4 <code>privilege-escalation.yaml</code> Privilege Escalation 4 <code>defense-evasion.yaml</code> Defense Evasion 6 <code>credential-access.yaml</code> Credential Access 4 <code>discovery.yaml</code> Discovery 9 <code>lateral-movement.yaml</code> Lateral Movement 3 <code>collection.yaml</code> Collection 4 <code>command-and-control.yaml</code> Command and Control 3 <code>exfiltration.yaml</code> Exfiltration 3 <code>impact.yaml</code> Impact 3"}]}